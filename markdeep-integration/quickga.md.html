<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- from http://atridas87.cat/GA/quickga.md.html, via https://twitter.com/Atridas87/status/1153055252989566976, extract all unicodemath expressions in sublime text's regex search with ⁅(.*?)⁆, common symbols √αβπ𝒢×→⟨⟩∧∀∈⟹⌊⌋⁆⁅ -->

                          **A quick and dirty guide to Geometric Algebra**
													
I'm doing this quick and dirty guide into geometric algebra because my [other guide](ga.md.html) is getting quite impenetrable. This one is designed to be easier to get into.

# How to build a ⁅3D⁆ Euclidean Space

* You will need three base vectors, or coordinates. I like to call them ⁅x⁆, ⁅y⁆ and ⁅z⁆.
* All vectors in existence will be *weighted sums* of those three vectors, like "⁅x + 2y + 3z⁆" or "⁅3/5 x + √z⁆" or whatever
  * This means that "⁅0⁆" is also a vector.
    * "⁅0⁆" is (spoiler warning) a lot of things.
* Vector addition works exactly as you expect it to work. I won't be talking about that much because it's not really interesting.
* Vector multiplication (a.k.a. the geometric product), on the other hand, is what makes GA work. It **is** interesting.
  * It is denoted by the juxtaposition. So ⁅a b⁆ will be the geometric product of ⁅a⁆ and ⁅b⁆.
  * **IT IS NOT CONMUTATIVE**
  * However, it is:
    * associative: ⁅A (B C) = (A B) C = A B C⁆
    * distributive over the addition: ⁅A (B + C) = A B + A C⁆, ⁅(A + B) C = A C + B C⁆
  * The basis vectors square to 1: ⁅x^2 = y^2 = z^2 = 1⁆
    * This only works in **Euclidean Space**. You can work in non-Euclidean space and some of your basis vectors will not square to one. The other options are ⁅-1⁆ and ⁅0⁆.[^DegenerativeMetric]
  * The multiplication between 2 different basis vectors is anticonmutative: ⁅x y = -y x, x z = -z x, y z = -z y⁆
  * Scalars commute with anything.
  * as a consequence of the previous rules, the square of any vector will be a scalar: ⁅(α_x x + α_y y + α_z z)^2⁆ ⁅= (α_x x + α_y y + α_z z)(α_x x + α_y y + α_z z)⁆ ⁅= α_x x α_x x + α_x x α_y y + α_x x α_z z + α_y y α_x x + α_y y α_y y + α_y y α_z z + α_z z α_x x + α_z z α_y y + α_z z α_z z⁆ ⁅= α_x^2 x^2 + α_x α_y x y + α_x α_z x z + α_x α_y y x + α_y^2 y^2 + α_y α_z y z + α_x α_z z x + α_y α_z z y + α_z^2 z^2⁆ ⁅= α_x^2 x^2 + α_x α_y x y - α_x α_z z x - α_x α_y x y + α_y^2 y^2 + α_y α_z y z + α_x α_z z x - α_y α_z y z + α_z^2 z^2⁆ ⁅= α_x^2 x^2 + α_y^2 y^2 + α_z^2 z^2 + α_y α_z y z - α_y α_z y z + α_x α_z z x - α_x α_z z x + α_x α_y x y - α_x α_y x y⁆ ⁅= α_x^2 1 + α_y^2 1 + α_z^2 1 + (α_y α_z y z - α_y α_z y z) + (α_x α_z z x - α_x α_z z x) + (α_x α_y x y - α_x α_y x y)⁆ ⁅= α_x^2 + α_y^2 + α_z^2⁆
	
!!! Tip
    I'll use greek letters for scalars, lower case latin leters for vectors.
		
		
## The basic elements

We start with scalars and vectors:

* Scalars: ⁅1, 15, 17/41, 2√3, -π, ...⁆
* Vectors: ⁅x, 3x, 17/41 x, 2x + y, 15y, -x + 2y + 5z, z, ...⁆

<!--babylon model="http://atridas87.cat/GA/BaseAxis.glb"></babylon-->

If do all the permutations of the 2 basic vectors, we whould get the basis for the bivectors: ⁅y z, z x, x y⁆.

Note that, per the rules above, ⁅y z = -z y, z x = -x z, x y = -y x⁆. What basis you choose is completely irrelevant for the algebra. We got "⁅y z, z x, x y⁆", but we could have gotten "⁅y z, x z, x y⁆", "⁅y z, z x, x y⁆" or any other combination.

Finally we can get the trivector $xyz$. Note that there are no different basis for the trivector in ⁅3D⁆, and there are no 4-vectors in ⁅3D⁆.

* Bivectors: ⁅4x y, -3y z + 2z x, π z x - √2 x y, ...⁆
* Trivectors: ⁅-x y z, 17/41 x y z, ...⁆

<!--babylon model="http://atridas87.cat/GA/BaseBivectors.glb"></babylon-->

## The multivector

If we add together scalars, vectors, bivectors and trivectors we will get a multivector.

* ⁅1 + 4x + 4z x + √3 x y z, 0, 6y + 3z - 2y z, ...⁆

All elements of the ⁅3D⁆ Euclidean Space GA will be a weighted sum of ⁅1, x, y, z, y z, z x, x y, x y z⁆.

!!!
    All vectors are multivectors. Bivectors are multivectors too. Scalars too. Everything is.


A multivector in ⁅3D⁆ will have the form:

⁅M = α_1 + α_x x + α_y y + α_x z +⁆ ⁅α_(y z) yz + α_(z x) z x + α_(x y) x y + α_(x y z) x y z⁆

It is composed by

* A scalar: ⁅α_1⁆
* A vector: ⁅α_x x + α_y y + α_x z⁆
* A bivector: ⁅α_(y z) y z + α_(z x) z x + α_(x y) x y⁆
* A trivector: ⁅α_(x y z) x y z⁆


Again, multivector addition is non-interesting[^MultivectorAddition], and multiplication will work as you expect if you follow the rules from the vector multiplication. Let me just guide you.

⁅M_1 M_2⁆

⁅= \(α_1 + α_x x + α_y y + α_x z +⁆ ⁅α_(y z) yz + α_(z x) z x + α_(x y) x y + α_(x y z) x y z\)⁆ ⁅\(β_1 + β_x x + β_y y + β_z z +⁆ ⁅β_(y z) yz + β_(z x) z x + β_(x y) x y + β_(x y z) x y z\)⁆

⁅= α_1 β_1 + α_1 β_x x + α_1 β_y y + α_1 β_z z +⁆ ⁅α_1 β_(y z) y z + α_1 β_(z x) z x + α_1 β_(x y) x y + α_1 β_(x y z) x y z⁆
⁅+ β_1 + α_x x β_x x + α_x x β_y y + α_x x β_z z +⁆ ⁅α_x x β_(y z) y z + α_x x β_(z x) z x + α_x x β_(x y) x y + α_x x β_(x y z) x y z⁆
⁅+ β_1 + α_y y β_x x + α_y y β_y y + α_y y β_z z +⁆ ⁅α_y y β_(y z) y z + α_y y β_(z x) z x + α_y y β_(x y) x y + α_y y β_(x y z) x y z⁆
⁅+ β_1 + α_x z β_x x + α_x z β_y y + α_x z β_z z +⁆ ⁅α_x z β_(y z) y z + α_x z β_(z x) z x + α_x z β_(x y) x y + α_x z β_(x y z) x y z⁆
⁅+ β_1 + α_(y z) y z β_x x + α_(y z) y z β_y y + α_(y z) y z β_z z +⁆ ⁅α_(y z) y z β_(y z) y z + α_(y z) y z β_(z x) z x + α_(y z) y z β_(x y) x y + α_(y z) y z β_(x y z) x y z⁆
⁅+ β_1 + α_(z x) z x β_x x + α_(z x) z x β_y y + α_(z x) z x β_z z +⁆ ⁅α_(z x) z x β_(y z) y z + α_(z x) z x β_(z x) z x + α_(z x) z x β_(x y) x y + α_(z x) z x β_(x y z) x y z⁆
⁅+ β_1 + α_(x y) x y β_x x + α_(x y) x y β_y y + α_(x y) x y β_z z +⁆ ⁅α_(x y) x y β_(y z) y z + α_(x y) x y β_(z x) z x + α_(x y) x y β_(x y) x y + α_(x y) x y β_(x y z) x y z⁆
⁅+ β_1 + α_(x y z) x y z β_x x + α_(x y z) x y z β_y y + α_(x y z) x y z β_z z +⁆ ⁅α_(x y z) x y z β_(y z) y z + α_(x y z) x y z β_(z x) z x + α_(x y z) x y z β_(x y) x y + α_(x y z) x y z β_(x y z) x y z⁆

⁅= α_1 β_1 + α_1 β_x x + α_1 β_y y + α_1 β_z z +⁆ ⁅α_1 β_(y z) y z + α_1 β_(z x) z x + α_1 β_(x y) x y + α_1 β_(x y z) x y z⁆
⁅+ α_x β_1 x + α_x β_x x x + α_x β_y x y + α_x β_z x z +⁆ ⁅α_x β_(y z) x y z + α_x β_(z x) x z x + α_x β_(x y) x x y + α_x β_(x y z) x x y z⁆
⁅+ α_y β_1 y + α_y β_x y x + α_y β_y y y + α_y β_z y z +⁆ ⁅α_y β_(y z) y y z + α_y β_(z x) y z x + α_y β_(x y) y x y + α_y β_(x y z) y x y z⁆
⁅+ α_x β_1 z + α_x β_x z x + α_x β_y z y + α_x β_z z z +⁆ ⁅α_x β_(y z) z y z + α_x β_(z x) z z x + α_x β_(x y) z x y + α_x β_(x y z) z x y z⁆
⁅+ α_(y z) β_1 y z + α_(y z) β_x y z x + α_(y z) β_y y z y + α_(y z) β_z y z z +⁆ ⁅α_(y z) β_(y z) y z y z + α_(y z) β_(z x) y z z x + α_(y z) β_(x y) y z x y + α_(y z) β_(x y z) y z x y z⁆
⁅+ α_(z x) β_1 z x + α_(z x) β_x z x x + α_(z x) β_y z x y + α_(z x) β_z z x z +⁆ ⁅α_(z x) β_(y z) z x y z + α_(z x) β_(z x) z x z x + α_(z x) β_(x y) z x x y + α_(z x) β_(x y z) z x x y z⁆
⁅+ α_(x y) β_1 x y + α_(x y) β_x x y x + α_(x y) β_y x y y + α_(x y) β_z x y z +⁆ ⁅α_(x y) β_(y z) x y y z + α_(x y) β_(z x) x y z x + α_(x y) β_(x y) x y x y + α_(x y) β_(x y z) x y x y z⁆
⁅+ α_(x y z) β_1 x y z + α_(x y z) β_x x y z x + α_(x y z) β_y x y z y + α_(x y z) β_z x y z z +⁆ ⁅α_(x y z) β_(y z) x y z y z + α_(x y z) β_(z x) x y z z x + α_(x y z) β_(x y) x y z x y + α_(x y z) β_(x y z) x y z x y z⁆

⁅= α_1 β_1 + α_1 β_x x + α_1 β_y y + α_1 β_z z⁆ ⁅+ α_1 β_(y z) y z + α_1 β_(z x) z x + α_1 β_(x y) x y + α_1 β_(x y z) x y z⁆
⁅+ α_x β_1 x + α_x β_x x^2 + α_x β_y x y - α_x β_z z x⁆ ⁅+ α_x β_(y z) x y z - α_x β_(z x) x x z + α_x β_(x y) x^2 y + α_x β_(x y z) x^2 y z⁆
⁅+ α_y β_1 y - α_y β_x x y + α_y β_y y^2 + α_y β_z y z⁆ ⁅+ α_y β_(y z) y^2z - α_y β_(z x) y x z - α_y β_(x y) x y y - α_y β_(x y z) x y y z⁆
⁅+ α_x β_1 z + α_x β_x z x - α_x β_y y z + α_x β_z z^2⁆ ⁅- α_x β_(y z) z z y + α_x β_(z x) z^2x - α_x β_(x y) x z y - α_x β_(x y z) x z y z⁆
⁅+ α_(y z) β_1 y z - α_(y z) β_x y x z - α_(y z) β_y zy y + α_(y z) β_z y z^2⁆ ⁅- α_(y z) β_(y z) zy y z + α_(y z) β_(z x) y z^2x - α_(y z) β_(x y) zy x y - α_(y z) β_(x y z) y x z y z⁆
⁅+ α_(z x) β_1 z x + α_(z x) β_x z x^2 - α_(z x) β_y x z y - α_(z x) β_z x z z⁆ ⁅- α_(z x) β_(y z) x z y z - α_(z x) β_(z x) x z z x + α_(z x) β_(x y) z x^2y + α_(z x) β_(x y z) z x^2y z⁆
⁅+ α_(x y) β_1 x y - α_(x y) β_x x x y + α_(x y) β_y x y^2 + α_(x y) β_z x y z⁆ ⁅+ α_(x y) β_(y z) x y^2z - α_(x y) β_(z x) y x z x - α_(x y) β_(x y) y x x y - α_(x y) β_(x y z) y x x y z⁆
⁅+ α_(x y z) β_1 x y z - α_(x y z) β_x x y x z - α_(x y z) β_y x y y z + α_(x y z) β_z x y z^2⁆ ⁅- α_(x y z) β_(y z) x y y z z + α_(x y z) β_(z x) x y z^2x - α_(x y z) β_(x y) x y x z y - α_(x y z) β_(x y z) y x z x y z⁆

⁅= α_1 β_1 + α_1 β_x x + α_1 β_y y + α_1 β_z z⁆ ⁅+ α_1 β_(y z) y z + α_1 β_(z x) z x + α_1 β_(x y) x y + α_1 β_(x y z) x y z⁆
⁅+ α_x β_1 x + α_x β_x 1 + α_x β_y x y - α_x β_z z x⁆ ⁅+ α_x β_(y z) x y z - α_x β_(z x) x^2z + α_x β_(x y) 1 y + α_x β_(x y z) 1 y z⁆
⁅+ α_y β_1 y - α_y β_x x y + α_y β_y 1 + α_y β_z y z⁆ ⁅+ α_y β_(y z) 1 z + α_y β_(z x) x y z - α_y β_(x y) x y^2 - α_y β_(x y z) x y^2z⁆
⁅+ α_x β_1 z + α_x β_x z x - α_x β_y y z + α_x β_z 1⁆ ⁅- α_x β_(y z) z^2y + α_x β_(z x) 1 x + α_x β_(x y) x y z + α_x β_(x y z) x y z z⁆
⁅+ α_(y z) β_1 y z + α_(y z) β_x x y z - α_(y z) β_y zy^2 + α_(y z) β_z y 1⁆ ⁅- α_(y z) β_(y z) zy^2z + α_(y z) β_(z x) y 1 x + α_(y z) β_(x y) zy y x + α_(y z) β_(x y z) y x z z y⁆
⁅+ α_(z x) β_1 z x + α_(z x) β_x z 1 + α_(z x) β_y x y z - α_(z x) β_z x z^2⁆ ⁅+ α_(z x) β_(y z) x z z y - α_(z x) β_(z x) x z^2x + α_(z x) β_(x y) z 1 y + α_(z x) β_(x y z) z 1 y z⁆
⁅+ α_(x y) β_1 x y - α_(x y) β_x x^2y + α_(x y) β_y x 1 + α_(x y) β_z x y z⁆ ⁅+ α_(x y) β_(y z) x 1 z + α_(x y) β_(z x) y x x z - α_(x y) β_(x y) y x^2y - α_(x y) β_(x y z) y x^2y z⁆
⁅+ α_(x y z) β_1 x y z + α_(x y z) β_x x x y z - α_(x y z) β_y x y^2z + α_(x y z) β_z x y 1⁆ ⁅- α_(x y z) β_(y z) x y^2z^2 + α_(x y z) β_(z x) x y 1 x + α_(x y z) β_(x y) x x y zy + α_(x y z) β_(x y z) y z x x y z⁆

⁅= α_1 β_1 + α_1 β_x x + α_1 β_y y + α_1 β_z z⁆ ⁅+ α_1 β_(y z) y z + α_1 β_(z x) z x + α_1 β_(x y) x y + α_1 β_(x y z) x y z⁆
⁅+ α_x β_1 x + α_x β_x + α_x β_y x y - α_x β_z z x⁆ ⁅+ α_x β_(y z) x y z - α_x β_(z x) z + α_x β_(x y) y + α_x β_(x y z) y z⁆
⁅+ α_y β_1 y - α_y β_x x y + α_y β_y + α_y β_z y z⁆ ⁅+ α_y β_(y z) z + α_y β_(z x) x y z - α_y β_(x y) x - α_y β_(x y z) x z⁆
⁅+ α_x β_1 z + α_x β_x z x - α_x β_y y z + α_x β_z⁆ ⁅- α_x β_(y z) y + α_x β_(z x) x + α_x β_(x y) x y z + α_x β_(x y z) x y⁆
⁅+ α_(y z) β_1 y z + α_(y z) β_x x y z - α_(y z) β_y z + α_(y z) β_z y⁆ ⁅- α_(y z) β_(y z) z z + α_(y z) β_(z x) y x + α_(y z) β_(x y) z x + α_(y z) β_(x y z) y x y⁆
⁅+ α_(z x) β_1 z x + α_(z x) β_x z + α_(z x) β_y x y z - α_(z x) β_z x⁆ ⁅+ α_(z x) β_(y z) x y - α_(z x) β_(z x) x x + α_(z x) β_(x y) zy + α_(z x) β_(x y z) zy z⁆
⁅+ α_(x y) β_1 x y - α_(x y) β_x y + α_(x y) β_y x + α_(x y) β_z x y z⁆ ⁅+ α_(x y) β_(y z) x z + α_(x y) β_(z x) y z - α_(x y) β_(x y) y y - α_(x y) β_(x y z) y y z⁆
⁅+ α_(x y z) β_1 x y z + α_(x y z) β_x y z - α_(x y z) β_y x z + α_(x y z) β_z x y⁆ ⁅- α_(x y z) β_(y z) x + α_(x y z) β_(z x) x y x - α_(x y z) β_(x y) zy y - α_(x y z) β_(x y z) y z z y⁆

⁅= α_1 β_1 + α_1 β_x x + α_1 β_y y + α_1 β_z z⁆ ⁅+ α_1 β_(y z) y z + α_1 β_(z x) z x + α_1 β_(x y) x y + α_1 β_(x y z) x y z⁆
⁅+ α_x β_1 x + α_x β_x + α_x β_y x y - α_x β_z z x⁆ ⁅+ α_x β_(y z) x y z - α_x β_(z x) z + α_x β_(x y) y + α_x β_(x y z) y z⁆
⁅+ α_y β_1 y - α_y β_x x y + α_y β_y + α_y β_z y z⁆ ⁅+ α_y β_(y z) z + α_y β_(z x) x y z - α_y β_(x y) x + α_y β_(x y z) z x⁆
⁅+ α_x β_1 z + α_x β_x z x - α_x β_y y z + α_x β_z⁆ ⁅- α_x β_(y z) y + α_x β_(z x) x + α_x β_(x y) x y z + α_x β_(x y z) x y⁆
⁅+ α_(y z) β_1 y z + α_(y z) β_x x y z - α_(y z) β_y z + α_(y z) β_z y⁆ ⁅- α_(y z) β_(y z) - α_(y z) β_(z x) x y + α_(y z) β_(x y) z x - α_(y z) β_(x y z) x y y⁆
⁅+ α_(z x) β_1 z x + α_(z x) β_x z + α_(z x) β_y x y z - α_(z x) β_z x⁆ ⁅+ α_(z x) β_(y z) x y - α_(z x) β_(z x) - α_(z x) β_(x y) y z - α_(z x) β_(x y z) z z y⁆
⁅+ α_(x y) β_1 x y - α_(x y) β_x y + α_(x y) β_y x + α_(x y) β_z x y z⁆ ⁅- α_(x y) β_(y z) z x + α_(x y) β_(z x) y z - α_(x y) β_(x y) - α_(x y) β_(x y z) z⁆
⁅+ α_(x y z) β_1 x y z + α_(x y z) β_x y z + α_(x y z) β_y z x + α_(x y z) β_z x y⁆ ⁅- α_(x y z) β_(y z) x - α_(x y z) β_(z x) x x y - α_(x y z) β_(x y) z - α_(x y z) β_(x y z) y y⁆

⁅= α_1 β_1 + α_1 β_x x + α_1 β_y y + α_1 β_z z⁆ ⁅+ α_1 β_(y z) y z + α_1 β_(z x) z x + α_1 β_(x y) x y + α_1 β_(x y z) x y z⁆
⁅+ α_x β_1 x + α_x β_x + α_x β_y x y - α_x β_z z x⁆ ⁅+ α_x β_(y z) x y z - α_x β_(z x) z + α_x β_(x y) y + α_x β_(x y z) y z⁆
⁅+ α_y β_1 y - α_y β_x x y + α_y β_y + α_y β_z y z⁆ ⁅+ α_y β_(y z) z + α_y β_(z x) x y z - α_y β_(x y) x + α_y β_(x y z) z x⁆
⁅+ α_x β_1 z + α_x β_x z x - α_x β_y y z + α_x β_z⁆ ⁅- α_x β_(y z) y + α_x β_(z x) x + α_x β_(x y) x y z + α_x β_(x y z) x y⁆
⁅+ α_(y z) β_1 y z + α_(y z) β_x x y z - α_(y z) β_y z + α_(y z) β_z y⁆ ⁅- α_(y z) β_(y z) - α_(y z) β_(z x) x y + α_(y z) β_(x y) z x - α_(y z) β_(x y z) x⁆
⁅+ α_(z x) β_1 z x + α_(z x) β_x z + α_(z x) β_y x y z - α_(z x) β_z x⁆ ⁅+ α_(z x) β_(y z) x y - α_(z x) β_(z x) - α_(z x) β_(x y) y z - α_(z x) β_(x y z) y⁆
⁅+ α_(x y) β_1 x y - α_(x y) β_x y + α_(x y) β_y x + α_(x y) β_z x y z⁆ ⁅- α_(x y) β_(y z) z x + α_(x y) β_(z x) y z - α_(x y) β_(x y) - α_(x y) β_(x y z) z⁆
⁅+ α_(x y z) β_1 x y z + α_(x y z) β_x y z + α_(x y z) β_y z x + α_(x y z) β_z x y⁆ ⁅- α_(x y z) β_(y z) x - α_(x y z) β_(z x) y - α_(x y z) β_(x y) z - α_(x y z) β_(x y z)⁆

⁅= α_1 β_1 + α_x β_x + α_y β_y + α_x β_z - α_(y z) β_(y z) - α_(z x) β_(z x) - α_(x y) β_(x y) - α_(x y z) β_(x y z)⁆
⁅+ (α_1 β_x + α_x β_1 + α_(x y) β_y - α_y β_(x y) + α_x β_(z x) - α_(z x) β_z - α_(y z) β_(x y z) - α_(x y z) β_(y z)) x⁆
⁅+ (α_1 β_y + α_y β_1 + α_x β_(x y) - α_(x y) β_x + α_(y z) β_z - α_x β_(y z) - α_(z x) β_(x y z)  - α_(x y z) β_(z x)) y⁆
⁅+ (α_1 β_z + α_x β_1 + α_(z x) β_x - α_x β_(z x) + α_y β_(y z) - α_(y z) β_y - α_(x y) β_(x y z) - α_(x y z) β_(x y)) z⁆
⁅+ (α_1 β_(y z) + α_(y z) β_1 + α_x β_(x y z) + α_(x y z) β_x + α_y β_z - α_x β_y + α_(x y) β_(z x) - α_(z x) β_(x y)) y z⁆
⁅+ (α_1 β_(z x) + α_(z x) β_1 + α_x β_x - α_x β_z + α_y β_(x y z) + α_(x y z) β_y + α_(y z) β_(x y) - α_(x y) β_(y z)) z x⁆
⁅+ (α_1 β_(x y) + α_(x y) β_1 + α_x β_y - α_y β_x + α_x β_(x y z) + α_(x y z) β_z + α_(z x) β_(y z) - α_(y z) β_(z x)) x y⁆
⁅+ (α_1 β_(x y z) + α_(x y z) β_1 + α_x β_(y z) + α_(y z) β_x + α_y β_(z x) + α_(z x) β_y + α_x β_(x y) + α_(x y) β_z) x y z⁆

!!! Tip
    I'll use upper case latin leters for multivectors.

!!! WARNING
    Multivector multiplication is a pain in the ass. Do it once, do it right[^ErrorProne] and forget about it.


Every other multiplication in GA is just a special case of this giant multiplication.

For instance, the multiplication with two vectors:



⁅v_1 v_2⁆ ⁅= (α_x x + α_y y + α_x z)⁆ ⁅(β_x x + β_y y + β_z z)⁆ ⁅= α_x β_x + α_y β_y + α_x β_z⁆ ⁅+ (α_y β_z - α_x β_y) y z⁆ ⁅+ (α_x β_x - α_x β_z) z x⁆ ⁅+ (α_x β_y - α_y β_x) x y⁆


!!! Tip
    The geometric product of two vector yields a scalar plus a bivector.
		
What is a bivector? It is the weighted sum of the bivector basis. In 3D they whould be ⁅y z, z x, x y⁆. So, the ones with 2 vectors multiplied. A trivector whould be a weighted sum of trivector basis, ⁅x y z⁆ in 3D. A 4-vector....... we don't have 4-vectors in ⁅3 D⁆ so you don't have to worry about them **yet**.













# Operations and definitions

!!! WARNING
    I'm going to define operators in a mathy way. Because I want. "⁅+ : 𝒢 × 𝒢 → 𝒢⁆" can be read as "the operation ⁅+⁆ takes 2 elements of the geometric algebra and yields an element of the geometric algebra.
		
!!! Tip
    ⁅𝒢⁆ means the set of all objects in geometric algebra.








## Grades

GA is a **graded algebra**, meaning things have grades assigned to them. The grade can be thought as "how many vectors has something multiplied in". Scalars have grade 0, vectors grade 1, bivectors (a.k.a. 2-vectors) grade 2 and so on.

!!! Tip
    ⁅𝒢_r⁆ means the set of all objects in geometric algebra of grade "r".

The grade operator ⁅⟨⟩_r : 𝒢 → 𝒢_r⁆ is an operation that takes a multivector and removes anything that is not grade r.

* ⁅⟨ α_1 + α_x x + α_y y + α_z z + α_(y z) yz + α_(z x) z x + α_(x y) x y + α_(x y z) x y z ⟩_2 = α_(y z) yz + α_(z x) z x + α_(x y) x y⁆
* ⁅⟨ α_1 + α_x x + α_y y + α_z z + α_(y z) yz + α_(z x) z x + α_(x y) x y + α_(x y z) x y z ⟩_0 = α_1⁆
* ⁅⟨ α_1 + α_x x + α_y y + α_z z + α_(y z) yz + α_(z x) z x + α_(x y) x y + α_(x y z) x y z ⟩_+⁆ ⁅= α_1 + α_(y z) yz + α_(z x) z x + α_(x y) x y + α_(x y z) x y z⁆
  * ⁅⟨⟩_+ : 𝒢 → 𝒢_+⁆ takes the even numbered grades
* ⁅⟨ α_1 + α_x x + α_y y + α_z z + α_(y z) yz + α_(z x) z x + α_(x y) x y + α_(x y z) x y z ⟩_-⁆ ⁅= α_x x + α_y y + α_z z + α_(x y z) x y z⁆
  * ⁅⟨⟩_- : 𝒢 → 𝒢_-⁆ takes the odd numbered grades
* ⁅⟨ α_1 + α_x x + α_y y + α_z z + α_(y z) yz + α_(z x) z x + α_(x y) x y + α_(x y z) x y z ⟩_-5 = 0⁆
  * You can take a negative grade. It just yields ⁅0⁆.

## Grade involution

The grade involution: ⁅​^* : 𝒢 → 𝒢⁆ is defined as ⁅A^* = \sum_{r}{ (-1)^r ⟨ A ⟩_r } = ⟨ A ⟩_+ - ⟨ A ⟩_-⁆. It is an operation that negates all odd-grade elements of a given bivector.

⁅(α_1 + α_x x + α_y y + α_z z + α_(y z) y z + α_(z x) z x + α_(x y) x y + α_(x y z) x y z)^*⁆ ⁅= α_1 - α_x x - α_y y - α_z z + α_(y z) yz + α_(z x) z x + α_(x y) x y - α_(x y z) x y z⁆


## k-vectors

A k-vector is a multivector with only elements of grade k.

!!! Tip
    zero is a k-vector of any grade you want.

!!! Tip
    I'll use upper case latin leters with a subscript for k-vectors. ⁅A_2⁆ will be a bivector.


* ⁅α_1⁆ is a 0-vector (or scalar)
* ⁅α_x x + α_y y + α_x z⁆ is a 1-vector (or just a vector)
* ⁅α_(y z) y z + α_(z x) z x + α_(x y) x y⁆ is a 2-vector (or a bivector)
* ⁅α_(x y z) x y z⁆ is a 3-vector (or a trivector)

## The outer product

We define first the outer product of two k-vectors then we will tell you how to do that for general multivectors.

The outer product for two k-vectors is an operation ⁅∧ : 𝒢_n × 𝒢_m → 𝒢_{n+m}⁆

* The simple definition: ⁅A_n ∧ B_m = ⟨ A_n B_m ⟩_{n+m}⁆
* The not simple defintion:
  * ⁅∀ a ∈ 𝒢_1, ∀ B ∈ 𝒢 ⟹ a ∧ B = 1/2 (a B + B^* a)⁆
  * ⁅∀ a ∈ 𝒢_1, ∀ B ∈ 𝒢 ⟹ B ∧ a = 1/2 (B a + a B^*)⁆
  * ⁅∀ α ∈ 𝒢_0, ∀ B ∈ 𝒢 ⟹ α ∧ B = B ∧ α = α B = B α⁆
  * ⁅∀ α ∈ 𝒢_0, ∀ B ∈ 𝒢 ⟹ α ∧ B = B ∧ α = α B = B α⁆
  * ⁅∀ A, B, C ∈ 𝒢 ⟹ (A + B) ∧ C = A ∧ C + B ∧ C⁆
  * ⁅∀ A, B, C ∈ 𝒢 ⟹ A ∧ (B + C) = A ∧ B + A ∧ C⁆

!!! Tip
    You can safely skip most of the "not-simple-definition".

!!!
    You can actually demonstrate that both defintions are equivalent. I'm not going to do that. See [#Chisolm12].

!!! Tip
    The outer product is sometimes called the wedge product. Because ⁅∧⁆ is called a wedge. I will use "wedge" as a synonim to the outer product sometimes.

⁅v_1 ∧ v_2⁆ ⁅= (α_x x + α_y y + α_x z) ∧ (β_x x + β_y y + β_z z)⁆ ⁅= (α_y β_z - α_x β_y) yz⁆ ⁅+ (α_x β_x - α_x β_z) zx⁆ ⁅+ (α_x β_y - α_y β_x) xy⁆


<!--babylon model="http://atridas87.cat/GA/OuterProduct.glb"></babylon-->


## k-blades

A k-blade is the outer product of k vectors. A 3-blade will be 3 different vectors wedged together.

!!! Tip
    In 2 and 3 dimensions all k-vectors are k-blades.


k-blades are very useful. They represent subspaces of dimension k.

So a 1-blade (a vector) represents a line, a 2-blade a plane, a 3-blade a volume, etc...

The subspace they represent amongs all possible is called "attitude".

k-blades have additionaly the properties of a weight and orientation.


********************************************************************************
*                                                                              *
*        ^                  +-------->                 <-----*----->           *
*       /                                            Opposite orientation      *
*      /                    +----->                                            *
*     /                   Same attitude,                                       *
*    *------>               different weight                                   *
*  Two vectors with                                                            *
*    different attitude                                                        *
********************************************************************************


The outer product helps you build k-blades (by definition). The outer product of 2 vectors will make the bivector that represents the plane where those 2 vectors live. The outer product of 2 vectors is anticonmutative. Meaning ⁅a ∧ b = -b ∧ a⁆, so the plane from ⁅a⁆ to ⁅b⁆ is the oposite from the one from ⁅b⁆ to ⁅a⁆.


For instance, the bivector "⁅- 6y z + 4z x + 2x y⁆" represents the plane that has the vectors "2x + 3y" and "⁅y - 2z⁆", is oriented from the first to the second, and has an area of ⁅√56⁆[^BivectorArea]. This is because ⁅- 6y z + 4z x + 2x y = (2x + 3y) ∧ (y - 2z)⁆, but it is important to notice that it does not represent that given rectangle, because there are infinite pairs of vectors that will give the same bivector. For instance, ⁅(x + y + z) ∧ (x + 3y - 3z) = - 6y z + 4z x + 2x y⁆.

If we were to go up to 4 dimensions, we could find bivectors that are not the outer product of 2 vectors. One of such whould be ⁅x y + z w⁆ (⁅w⁆ whould be our 4th dimension here). ⁅x y⁆ and ⁅z w⁆ have no factor in common, so that particular bivector won't be a 2-blade. This means that it does not represent any plane (hyper-plane, we are in 4 dimensions and here things are hyper).

!!! Warning
    In 4 and more dimensions, not all k-vectors are k-blades.

If you wedge a vector to a bivector you get a trivector, wich is an oriented volume. There is really only one oritented volume in ⁅3D⁆, so every trivector in ⁅3D⁆ will be a multiple of ⁅x y z⁆.




A think to note is that the outer product of 2 vectors in the same direction will yield 0 (remember: 0 is a bivector). This means that they don't span any area. If you wedge a bivector with a vector in the same plane it will also yield 0, again, the "volume" they span is non-existant.





## k-versors
		
A k-versor is the multiplication of k vectors.

!!! Tip
    All k-blades are k-versors AND k-vectors, all k-versors are multivectors. It does not work the other way around.

⁅a b = (2 x) (4 x + 3 y) = 8 + 6 x y⁆

⁅8 + 6 x y⁆ is a versor.


## The contraction

There are two contractions: the right contraction and the left contraction. It is basicaly the same operation, it just isn't symetric.

* ⁅\⌋ : 𝒢_n × 𝒢_m \to 𝒢_{m - n}⁆
  * ⁅A_n \⌋ B_m = ⟨ A_n B_m ⟩_{m-n}⁆
* ⁅\⌊ : 𝒢_n × 𝒢_m \to 𝒢_{n - m}⁆
  * ⁅A_n \⌊ B_m = ⟨ A_n B_m ⟩_{n-m}⁆

The non-simple formula:

* ⁅∀ a ∈ 𝒢_1, ∀ B ∈ 𝒢_m ⟹ a \⌋ B = 1/2 (a B - B^* a)⁆
* ⁅∀ a ∈ 𝒢_1, ∀ B ∈ 𝒢_m ⟹ B \⌊ a = 1/2 (B a - a B^*)⁆
* ⁅∀ A, B, C ∈ 𝒢 ⟹ (A + B) \⌋ C = A \⌋ C + B \⌋ C⁆
* ⁅∀ A, B, C ∈ 𝒢 ⟹ A \⌋ (B + C) = A \⌋ B + A \⌋ C⁆
* ⁅∀ A, B, C ∈ 𝒢 ⟹ (A + B) \⌊ C = A \⌊ C + B \⌊ C⁆
* ⁅∀ A, B, C ∈ 𝒢 ⟹ A \⌊ (B + C) = A \⌊ B + A \⌊ C⁆

⁅v \⌋ B⁆
⁅= (α_x x + α_y y + α_x z) \⌋ (β_(y z) yz + β_(z x) zx + β_(x y) x y)⁆
⁅= (α_x β_(z x) - α_y β_(x y)) x + (α_x β_(x y) - α_x β_(y z)) y + (- α_x β_(z x) + α_y β_(y z)) z⁆


In section [The contraction interpretation] I'll talk about what does the contraction represent.

		
## The reverse

The reversion: $^{\dagger} : \mathcal{G} \to \mathcal{G}$ is defined as $A^{\dagger} = \sum_{r}{ (-1)^\frac{k(k-1)}{2} \langle A \rangle_r }$. This is a bit more cumbersome, but the pattern here is $++ -- ++ -- ++ ...$. This operation reverses a geometric product. So if $A = a_1 a_2 ... a_n \iff A^{\dagger} = a_n ... a_2 a_1$.


$(\alpha_1 + \alpha_x x + \alpha_y y + \alpha_z z + \alpha_{yz} yz + \alpha_{zx} zx + \alpha_{xy} xy + \alpha_{xyz} xyz)^{\dagger}$ $= \alpha_1 + \alpha_x x + \alpha_y y + \alpha_z z - \alpha_{yz} yz - \alpha_{zx} zx - \alpha_{xy} xy - \alpha_{xyz} xyz$

## The Scalar product and the dot product

The scalar product is similar to the contraction, but it will give you a positive[^PositiveScalarProduct] number. The dot product are just special case of the scalar product:

* $\ast : \mathcal{G} \times \mathcal{G} \to \mathcal{G}_0$
  * $A \ast B = \langle A^{\dagger} B \rangle_0$
* $\cdot : \mathcal{G}_1 \times \mathcal{G}_1 \to \mathcal{G}_0$
  * $a \cdot b = \langle a b \rangle_0$
	
$B_1 \ast B_2$	
$= (\alpha_{yz} yz + \alpha_{zx} zx + \alpha_{xy} xy) \ast (\beta_{yz} yz + \beta_{zx} zx + \beta_{xy} xy)$
$= \alpha_{yz} \beta_{yz} + \alpha_{zx} \beta_{zx} + \alpha_{xy} \beta_{xy}$
	
$v_1 \cdot v_2$ $= (\alpha_x x + \alpha_y y + \alpha_x z) \cdot (\beta_x x + \beta_y y + \beta_z z)$ $= \alpha_x \beta_x + \alpha_y \beta_y + \alpha_x \beta_z$

## The weight

The weight of a multivector is:

$|A|^2 = A \ast A$

If $A$ is a k-versor, then $|A|^2 = \pm A^2$

!!! Tip
    If the weight of a k-versor is 1 then it is called "a unit k-versor". It works for vectors (a unit vector), bivectors (a unit bivector) etc.

$|B_2| = |4 zx + 3 xy|$ $= \sqrt{(4 zx + 3 xy) \ast (4 zx + 3 xy)}$ $= \sqrt{(4 zx + 3 xy)^{\dagger} (4 zx + 3 xy)}$ $= \sqrt{(- 4 zx - 3 xy) (4 zx + 3 xy)}$ $= \sqrt{- 4 zx 4 zx - 3 xy 4 zx - 4 zx 3 xy - 3 xy 3 xy}$ $= \sqrt{16 z^2x^2- 12 yz + 12 yz + 9 x^2y^2}$ $= \sqrt{16 + 9}$  $= 5$


The weight is be useful for multiple reasons. Two of them come in section [The angle] and section [The inverse], but another one is to know the length, area or volume of the line, plane or cube represented by a given vector, bivector or trivector.

## The angle

$A \ast B = \cos{\phi} |A| |B|$

$\cos{\phi} = \frac{A \ast B}{|A| |B|}$

* $a \ast b = (2 x) \ast (4 x + 3 y) = 8$
* $|a| = \sqrt{(2x)^2} = \sqrt{4} = 2$
* $|b| = \sqrt{(4 x + 3 y)^2} = \sqrt{25} = 5$
* $\cos{\phi} = \frac{a \ast b}{|a| |b|} = \frac{8}{15}$

## The inverse

k-versors square to scalars. Scalars have inverses. This will help us define the inverse:

$A^{-1} = \frac{A^{\dagger}}{|A|^2}$

For k-vectors grade $0, 1, 4, 5, 8, 9, ...$ the inverse will be $A_k^{-1} = \frac{A}{A^2}$.

The exception is when $|A|^2 = 0$. It can happen, it is called a "null-vector" (if it is a vector) or a "null k-vector" more generally.

!!! Tip
    In euclidean geometry all non zero k-vectors have inverses. In non euclidean geometry there will be non zero null vectors, and those won't have inverses.
		

$B_2^{-1} = (4 zx + 3 xy)^{-1}$ $= \frac{(4 zx + 3 xy)^{\dagger}}{|4 zx + 3 xy|^2}$ $= - \frac{4 zx + 3 xy}{25}$

$B_2 B_2^{-1} = (4 zx + 3 xy) (4 zx + 3 xy)^{-1}$ $= (4 zx + 3 xy) (- \frac{4 zx + 3 xy}{25})$ $= \frac{- 4 zx 4 zx - 3 xy 4 zx - 4 zx 3 xy - 3 xy 3 xy}{25}$ $= \frac{25}{25}$ $= 1$


## Projection and Rejection

* $P_{B_m}(A_n) = (A_n \rfloor B_m) B_m^{-1}$
* $R_{B_m}(A_n) = (A_n \wedge B_m) B_m^{-1}$

This operations project and reject a blade to another blade.

* $P_{4 zx + 3 xy}(4 x + 3 y) = ((4 x + 3 y) \rfloor (4 zx + 3 xy)) (4 zx + 3 xy)^{-1}$ $= (- 16 z + 12 y - 9 x) (- \frac{4 zx + 3 xy}{25})$ $= \frac{64 x + 36 x - 36 z + 27 y}{25}$ $= 4 x + \frac{27}{25} y - \frac{36}{25} z$
* $R_{4 zx + 3 xy}(4 x + 3 y) = ((4 x + 3 y) \wedge (4 zx + 3 xy)) (4 zx + 3 xy)^{-1}$ $= (12 xyz) (- \frac{4 zx + 3 xy}{25})$ $= \frac{48 y + 36 z}{25}$ $= \frac{48}{25} y + \frac{36}{25} z$
* $P_{4 zx + 3 xy}(4 x + 3 y) + R_{4 zx + 3 xy}(4 x + 3 y)$ $= 4 x + \frac{27}{25} y - \frac{36}{25} z + \frac{48}{25} y + \frac{36}{25} z$ $= 4 x + \frac{75}{25} y$ $= 4 x + 3 y$


<!--babylon model="http://atridas87.cat/GA/Projection.glb"></babylon-->


## The contraction interpretation

The contraction is a kind of reverse outer product. Is it, in some literature, called the inner product. Or one of it's spetializations is.

* The result of the blades $A \rfloor B$ is:
  * A blade.
  * It will be ortogonal to $A$
  * It will be contained inside $B$.
  * If $A$ is the vector $3x + 4y + z$ and $B$ the bivector $-5xy$ (it represents the plane spaned by $y$ and $x$, with area 5)
    * $(3x + 4y + z) \rfloor (-5xy) = 20x - 15y$
    * $(3x + 4y + z) \cdot (20x - 15y) = 60 - 60 = 0$, they are orthogonal.
    * $(20x - 15y) \wedge (-5xy) = 0$. It is contained in the bivector.
* The weight of the result will be proportional to the weight of the factors and the cosine between them.
  * If $A$ and $B$ are orthogonal, then $A \rfloor B = 0$.
  * If $A \rfloor B = 0$ then $A$ and $B$ are orthogonal.
* A handy identity will be: $P_B(A) \wedge (A \rfloor B) = A^2 B$
  * The projection of $A$ into $B$ wedged by the contraction of $A$ onto $B$ will wield $B$ by the square of $A$ (that is a scalar, by the way).
















## Reflections

* $A_n X_m A_n^{-1}$

This will reflect $X_n$ into $A_n$


Reflect the vector $2x + 3y$ to the vector $3y$:

$3y (2x + 3y) (3y)^{-1}$ $= (-6xy + 9) \frac{3y}{9}$ $= \frac{-6x + 9y}{3}$ $= -2x + 3y$

***********************************************************************************************************
*                                                                                                         *
*                                                                                                         *
*                         -2x + 3y      3y        2x + 3y                                                 *
*                                                                                                         *
*                             ^  ------  ^  ------  ^                                                     *
*                              \         |         /                                                      *
*                               \        |        /                                                       *
*                                \       |       /                                                        *
*                                 \      |      /                                                         *
*                                  \     |     /                                                          *
*                                   \    |    /                                                           *
*                                    \   |   /                                                            *
*                                     \  |  /                                                             *
*                                      \ | /                                                              *
*                                       \|/                                                               *
*                                        *                                                                *
*                                                                                                         *
***********************************************************************************************************

## Rotations

Two reflections to two vector makes a rotation with double the angle from one vector to another with the same direction.

* $b a X_n a^{-1} b^{-1}$

This will rotate $X_n$ in the plane $a \wedge b$ double the angle from $a$ to $b$.

1. It is handy to use unit vectors to define a rotation, so $a^2 = b^2 = 1$ so $a^{-1} = \frac{a}{a^2} = a, b^{-1} = b$.
1. The rotation becomes $b a X_n a b$.
1. We can create an object called a rotor $R = b a$.
1. The rotation becomes $R X_n R^{\dagger}$.
1. A rotor will be a scalar plus a bivector. It will match the formula $R = \cos{\frac{\phi}{2}} - I \sin{\frac{\phi}{2}}$, where $\phi$ is the angle of rotation and $I$ the plane of rotation represented by a unit bivector.
1. We can take the logarithm of a rotor: $R = \cos{\frac{\phi}{2}} - I \sin{\frac{\phi}{2}} = e^{-I \frac{\phi}{2}}$.
  * We only need to "save" 3 numbers in logarithm form
  * We can decompose a logarithm to make interpolations: $e^{-I \frac{\phi}{2}} = e^{-\alpha I \frac{\phi}{2}} e^{-(1 - \alpha) I \frac{\phi}{2}}$.
  * It is not *mathematically correct* to interpolate logarithmns with different "planes", but as long as you are in $3D$, you will get a nice result.

!!! Tip
    Even versors represent orthogonal transformations.

The vectors $x$ and $\frac{1}{2}x + \frac{\sqrt{3}}{2}y$ have an angle of $60º$ in the $xy$ plane. Let's rotate $4x + 7z$.

$(\frac{1}{2}x + \frac{\sqrt{3}}{2}y)(x)(4x + 7z)(x)^{-1}(\frac{1}{2}x + \frac{\sqrt{3}}{2}y)^{-1}$ $= (\frac{1}{2} - \frac{\sqrt{3}}{2}xy)(4x + 7z)(\frac{1}{2} + \frac{\sqrt{3}}{2}xy)$ $= (\frac{4}{2}x + \frac{4\sqrt{3}}{2}y + \frac{7}{2}z - \frac{7\sqrt{3}}{2}xyz)(\frac{1}{2} + \frac{\sqrt{3}}{2}xy)$ $= (2x + 2\sqrt{3}y + \frac{7}{2}z - \frac{7\sqrt{3}}{2}xyz)(\frac{1}{2} + \frac{\sqrt{3}}{2}xy)$ $= \frac{1}{2}2x + \frac{\sqrt{3}}{2}2y + \frac{7}{4}z - \frac{7\sqrt{3}}{4}xyz + \frac{2\sqrt{3}}{2}xxy + 2\sqrt{3}\frac{\sqrt{3}}{2}yxy + \frac{7}{2}\frac{\sqrt{3}}{2}zxy - \frac{7\sqrt{3}}{2}\frac{\sqrt{3}}{2}xyzxy$ $= x + \sqrt{3}y + \frac{7}{4}z - \frac{7\sqrt{3}}{4}xyz + \sqrt{3}y - 3x + \frac{7\sqrt{3}}{4}xyz + \frac{7\sqrt{3}\sqrt{3}}{4}z$ $= x + \sqrt{3}y + \frac{7}{4}z + \sqrt{3}y - 3x + \frac{21}{4}z$ $= - 2x + 2\sqrt{3}y + 7z$

As we can see, the result is rotated 120º degrees in the xy plane, and the z component has been left intact.

Now let's take the rotor:

$R = (\frac{1}{2}x + \frac{\sqrt{3}}{2}y)(x) = \frac{1}{2} - \frac{\sqrt{3}}{2}xy$

And the logarithm

$\frac{1}{2} - \frac{\sqrt{3}}{2}xy = \cos(\frac{\pi}{3}) - \sin(\frac{\pi}{3}) xy = e^{-\frac{\pi}{3}xy}$

If this rotor made a 120º turn, the rotor with $\frac{1}{4}$ the logarithm will make a 30º turn:

$R_2 = e^{-\frac{1}{4}\frac{\pi}{3}xy} = e^{-\frac{\pi}{12}xy} = \cos(\frac{\pi}{12}) - \sin(\frac{\pi}{12}) xy = \frac{\sqrt{2 + \sqrt{3}}}{2} - \frac{\sqrt{3} - 1}{2 \sqrt{2}} xy$

Some handy identites:

* $(\frac{\sqrt{2 + \sqrt{3}}}{2})^2 = \frac{1}{2} + \frac{\sqrt{3}}{4}$
* $(\frac{\sqrt{3} - 1}{2 \sqrt{2}})^2 = \frac{1}{2} - \frac{\sqrt{3}}{4}$
* $(\frac{\sqrt{2 + \sqrt{3}}}{2})(\frac{\sqrt{3} - 1}{2 \sqrt{2}}) = \frac{1}{4}$

$R_2 (4x + 7z) R_2^{\dagger}$ $= (\frac{\sqrt{2 + \sqrt{3}}}{2} - \frac{\sqrt{3} - 1}{2 \sqrt{2}} xy)(4x + 7z)(\frac{\sqrt{2 + \sqrt{3}}}{2} + \frac{\sqrt{3} - 1}{2 \sqrt{2}} xy)$ $= (4 \frac{\sqrt{2 + \sqrt{3}}}{2} x + 4 \frac{\sqrt{3} - 1}{2 \sqrt{2}} y + 7 \frac{\sqrt{2 + \sqrt{3}}}{2} z - 7 \frac{\sqrt{3} - 1}{2 \sqrt{2}} xyz) (\frac{\sqrt{2 + \sqrt{3}}}{2} + \frac{\sqrt{3} - 1}{2 \sqrt{2}} xy)$ $= 4 (\frac{1}{2} + \frac{\sqrt{3}}{4}) x + 4 \frac{1}{4} y + 7 (\frac{1}{2} + \frac{\sqrt{3}}{4}) z - 7 \frac{1}{4} xyz + 4 \frac{1}{4} y - 4 (\frac{1}{2} - \frac{\sqrt{3}}{4}) x + 7 \frac{1}{4} xyz + 7 (\frac{1}{2} - \frac{\sqrt{3}}{4}) z$ $= 2 x + \sqrt{3} x + y + \frac{7}{2} z + \frac{7 \sqrt{3}}{4} z - \frac{7}{4} xyz + y - 2 x + \sqrt{3} x + \frac{7}{4} xyz + \frac{7}{2} z - \frac{7 \sqrt{3}}{4} z$ $= 2 x - 2 x + \sqrt{3} x + \sqrt{3} x + y + y + \frac{7}{2} z + \frac{7}{2} z + \frac{7 \sqrt{3}}{4} z - \frac{7 \sqrt{3}}{4} z + \frac{7}{4} xyz - 7 \frac{7}{4} xyz$ $= 2 \sqrt{3} x + 2 y + 7 z$

### The outer product of a sandwitch product

$(A B A^{\dagger}) \wedge (A C A^{\dagger}) = |A|^2 A (B \wedge C) A^{\dagger}$

What this formula tells us is that rotating a bivector is the same as first rotating the 2 vectors we used to create the bivector and then recreate the bivector.

* $a = x$
* $b = y + z$
* $B = a \wedge b = x \wedge (y + z) = xy - zx$
* $R = e^{-\frac{\pi}{4}xy} = \frac{\sqrt{2}}{2} - \frac{\sqrt{2}}{2}xy$. 90 degrees rotor in the $xy$ plane.
* $R a R^{\dagger} = (\frac{\sqrt{2}}{2} - \frac{\sqrt{2}}{2}xy)x(\frac{\sqrt{2}}{2} + \frac{\sqrt{2}}{2}xy)$ $= (\frac{\sqrt{2}}{2} x + \frac{\sqrt{2}}{2}y)(\frac{\sqrt{2}}{2} + \frac{\sqrt{2}}{2}xy)$ $= \frac{1}{2} x + \frac{1}{2}y + \frac{1}{2} y - \frac{1}{2} x$ $= y$
* $R b R^{\dagger} = (\frac{\sqrt{2}}{2} - \frac{\sqrt{2}}{2}xy)(y + z)(\frac{\sqrt{2}}{2} + \frac{\sqrt{2}}{2}xy)$ $= (\frac{\sqrt{2}}{2} y - \frac{\sqrt{2}}{2}x + \frac{\sqrt{2}}{2} z - \frac{\sqrt{2}}{2}xyz)(\frac{\sqrt{2}}{2} + \frac{\sqrt{2}}{2}xy)$ $= \frac{1}{2} y - \frac{1}{2}x + \frac{1}{2} z - \frac{1}{2}xyz - \frac{1}{2} x - \frac{1}{2}y + \frac{1}{2} xyz + \frac{1}{2}z$ $= -x + z$
* $R B R^{\dagger} = (\frac{\sqrt{2}}{2} - \frac{\sqrt{2}}{2}xy)(xy - zx)(\frac{\sqrt{2}}{2} + \frac{\sqrt{2}}{2}xy)$ $= (\frac{\sqrt{2}}{2} xy + \frac{\sqrt{2}}{2} - \frac{\sqrt{2}}{2} zx + \frac{\sqrt{2}}{2}yz)(\frac{\sqrt{2}}{2} + \frac{\sqrt{2}}{2}xy)$ $= \frac{1}{2} xy + \frac{1}{2} - \frac{1}{2} zx + \frac{1}{2}yz - \frac{1}{2} + \frac{1}{2} xy + \frac{1}{2} yz + \frac{1}{2}zx$ $= \textbf{xy + yz}$
* $(R a R^{\dagger}) \wedge (R b R^{\dagger}) = y \wedge (-x + z) = \textbf{xy + yz}$


!!! Tip
    This property extends to the anti-wedge product $\vee$. See section [The anti-wedge product] for more info for the anti-wedge.

!!! Warning
    Rotating a vector and a bivector (a line and a plane) use the same formula in geometric algebra, but the implementation will be different because the commutativity / anticommutativity of each element will be different. Unless you use directly the geometric product, wich I don't recommend. See section [Implementation Notes]


## The pseudoscalar

The pseudoscalar is the element with the largest grade within a given space. In $3D$ the pseudoscalar will be a trivector ($xyz$), in $2D$ a bivector ($xy$), etc. It is called a pseudoscalar because it behaves like a scalar sometimes. It does not have an attitude or, in other words, there is only one possible attitude for a given pseudoscalar. Everything on that grade will be a multiple of the pseudoscalar.

The symbol for a pseudoscalar uses to be $\textbf{I}$.

One important note that will become important later on is that the election of a given pseudoscalar is arbitrary. One can take $\textbf{I} = xyz$ but $\textbf{I} = xzy$ whould be equally valid (and note that $xyz = -xzy$). The important characteristic for a given pseudoscalar is that it is unitary, so $|\textbf{I}| = 1$.

!!! Tip
    The pseudoscalar you choose will determine the handiness of your space.

## The Dual

If we have an invertible blade $A_r$ (that is, one whose $|A_r|^2 \ne 0$) we can take the dual of any blade $B$ by doing:

$B A_r^{-1}$

We only ask for one condition: that $B$ lies inside of $A_r$, so $B \wedge A_r = 0$ and $grade(B) \le grade(A_r)$.


The dual is an operation $\mathcal{G}_n \times \mathcal{G}_m \to \mathcal{G}_{m-n}$.

This operation gives us "every part of $A_r$ that is orthogonal to $B$": B's "dual" in respect to "$A_r$".

There is one special blade we will take the dual from frequently: The pseudoscalar $\textbf{I}$. This is because $\textbf{I}$ fills all available space in a given geometry, so every blade is always contained in $\textbf{I}$.

From now on, when I say "the dual of", if I don't specify with whom, you can assume $\textbf{I}$.

Another name for the dual is "the orthogonal complement".

!!! Warning
    Because the dual has an implicit argument ($\textbf{I}$), the choice of what pseudoscalar you'll use is rather important (specialy for consistence).


* In 3D, the dual of a vector will be a bivector, while the dual of a bivector will be a vector.
* In 2D, the dual of a vector will be a vector.
* The dual of a scalar will be a pseudoscalar.

The implicit operation's formula is:

$A^{\perp} = A \textbf{I}^{-1}$

The dual gives us some handy identities:

* $(AB)^{\perp} = A (B^{\perp})$
* $(A \wedge B)^{\perp} = A \rfloor B^{\perp}$
* $(A \rfloor B)^{\perp} = A \wedge B^{\perp}$


This operation seems hard at first, but the truth is that you have already done it: the vector's algebra cross product can be translated to geometric algebra as the dual of the outer product (and as in vector algebra, it only works in $3D$)

* We will use $\textbf{I} = xyz, \textbf{I}^{-1} = -xyz$.
* $(3yz + 2zx - 7xy)^{\perp}$ $= (3yz + 2zx - 7xy)\textbf{I}^{-1}$ $= -(3yz + 2zx - 7xy)xyz$ $= -3yzxyz - 2zxxyz + 7xyxyz$ $= 3x + 2y - 7z$
* $(3x \wedge 5y)^{\perp}$ $= (15xy)^{\perp}$ $= (15xy)\textbf{I}^{-1}$ $= -(15xy)xyz$ $= -15xyxyz = 15z$

If you are familiar with vector's algebra cross product you will know it is not associative. But the outer product is!? The answer to this assimetry is that implicit dual, that "breaks" the outer product. This is also the reason vectors that are the result of cross products don't "behave" as other vectors: they are bivectors in disguise!

One last note: The anti dual:

$A^{-\perp} = A \textbf{I}$

It's used to reverse a dual (hence it's name). It dometimes does exactly the same thing as the dual (if $\textbf{I}^2 = 1$) but for the most part don't count on that (it will flip a sign most of the time).



<!--babylon model="http://atridas87.cat/GA/OrtogonalComplements.glb"></babylon-->


## The anti-wedge product

We start with the weird formulas here. This one is quite useful and we will make extensive use of it in section [2D Homogeneus space] and section [3D Homogeneus space].

The anti-wedge is:

$A \vee B = (A^{\perp} \wedge B^{\perp})^{- \perp} = A^{\perp} \rfloor B$

!!! Warning
    $\vee$ is defined in a multiplicity of different ways in the literature. It usually gives the same result except for the sign. I've mostly seen $(A^{\perp} \wedge B^{\perp})^{- \perp}$, $(A^{-\perp} \wedge B^{-\perp})^{\perp}$ and $(A^{\perp} \wedge B^{\perp})^{\perp}$. But other definitions aren't unheard of.

Let me unpack this a bit:

* Both $A$ and $B$ are contained in $\textbf{I}$.
* $A^{\perp} \rfloor B = (A \textbf{I}^{-1}) \rfloor B = (A \rfloor \textbf{I}^{-1}) \rfloor B$.
  * $A^{\perp} = A \rfloor \textbf{I}^{-1}$ represents all the space (in $\textbf{I}$) orthogonal to $A$.
  * $A^{\perp} \rfloor B$ is orthogonal to $A^{\perp}$ and contained into $B$. We knew $A^{\perp}$ is all the space orthogonal to $A$, so the result is again contained into $A$.
	* $A \vee B$ is contained into both $A$ and $B$. It is its **intersection**.


Now, that is a very handy operation but I have to warn you: The choosing of a good $\textbf{I}$ is **very** important. If $\textbf{I}$ is too large, $A \vee B$ will give you an undesired result. This will make sense in section [The intersection of two lines].

* We have the plane $xy$ and the plane $zx$.
  * $xy \vee zx$ $= xy^{\perp} \rfloor zx$ $= z \rfloor zx$ $= x$.

* A more complicated example:
  * $A = (x + y) \wedge (-x + y + z) = yz - zx + 2xy$
  * $B = (x + y) \wedge (2x - 2y + 3z) = 3yz - 3zx - 4xy$
  * $A \vee B$ $= (yz - zx + 2xy)^{\perp} \rfloor (3yz - 3zx - 4xy)$ $= (x - y + 2z) \rfloor (3yz - 3zx - 4xy)$ $= x \rfloor 3yz - y \rfloor 3yz + 2z \rfloor 3yz + x \rfloor (-3zx) - y \rfloor (-3zx) + 2z \rfloor (-3zx) + x \rfloor (-4xy) - y \rfloor (-4xy) + 2z \rfloor (-4xy)$ $= 0 -3z - 6y + 3z - 0 -6x -4y - 4x + 0$ $= - 10(x + y)$


We won't focus much on the weight nor the orientation of the result of the anti-wedge product. What we care mostly is it's attitude.


<!--babylon model="http://atridas87.cat/GA/AntiWedge.glb"></babylon-->

## The Commutator

The Commutator is a nasty little operation:

* $A \times B = \frac{1}{2}(A B - B A)$

It has some properties:
* $A \times (B C) = (A \times B)C + B(A \times C)$
* $A \times (B \times C) = (A \times B) \times C + B \times (A \times C)$
  * $A \times (B \times C) + (A \times B) \times C + B \times (A \times C) = 0$

!!! Warning
    The Commutator does not commute

* If "$a$" is a vector, then
  * $a \times B = a \rfloor \langle B \rangle_+ + a \wedge \langle B \rangle_-$
  * $B \times a = \langle B \rangle_+ \lfloor a + \langle B \rangle_- \wedge a$

But the the property we will use is that:

* The Commutator with a bivector preserves the grade (so a vector commuted with a bivector will yield a vector) and its result is orthogonal to the original blade.
  * In fact, the Commutator is the derivative of a rotation.
* If $A_2$ is a bivector and $B_k$ is a k-vector:
  * $A_2 \times B_k = \langle A_2 B_k \rangle_k$
  * $B_k \times A_2 = \langle B_k A_2 \rangle_k$
  
  
## The Ideal Norm

$|V|_{\infty} = |V \vee A|$, where $A$ is a unit ($|A| = 1$) antivector (grade $n-1$).

## Normalized Blade

A blade is normalized when its norm is zero. To normalize a blade just:

$\widehat{A} = \frac{A}{|A|}$

You can still normalize null blades with the ideal norm:

$\widehat{A} = \frac{A}{|A|_{\infty}}$

Section [2D Degenerative Dual Homogeneus Space] and Section [3D Degenerative Dual Homogeneus Space] show how null blades are useful.

## Operator precedence

Operator                       |        Symbol           |  Precedende
-------------------------------|-------------------------|-----------
Reverse                        |  $A^{\dagger}$          | 1
Grade involution               |  $A^{\ast}$             | 1
Clifford conjugation           |  $A^{\ddagger}$         | 1
Dual                           |  $A^{\perp}$            | 2
Outer Product / wedge          |  $\wedge$               | 3
Anti-wedge                     |  $\vee$                 | 4
Contraction                    |  $\rfloor, \lfloor$     | 5
Geometric Product              |  $A B$                  | 6
Scalar Product                 |  $\ast$                 | 7
Dot Product                    |  $\cdot$                | 7
Commutator                     |  $\times$               | 8
Addition, Substraction         |  $+, -$                 | 9
Grade                          |  $\langle A \rangle_n$  | 10
Weight                         |  $|A|$                  | 10
Inverse                        |  $A^{-1}$               | 10
Projection                     |  $P_B(A)$               | 10
Rejection                      |  $R_B(A)$               | 10
	

# Formula cheatsheet

## Names

Name                                                                                           | Meaning
-----------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------
Multivector                                                                                    | Everything in the algebra is a multivector. Denoted by upper case latin letter ($A, B, C, ...$)
Scalars                                                                                        | The numbers. They have grade 0. Noted with a greek letter ($\alpha, \beta, \gamma, ...$)
Vectors                                                                                        | The basic elements. $a = \alpha x + \beta y + ...$. They are noted by a lower case latin letter ($a, b, c, x, y, z, ...$)
Bivectors, trivectors, k-vectors                                                               | Grade 2, 3, k elements. Denoted by upper case latin letter with a subscript ($A_2, B_3, C_k, ...$)
K-Blades                                                                                       | The outer product of k vectors ($a_1 \wedge a_2 \wedge ... \wedge a_k$). They denote a subspace of dimension k. So a vector represents a line, a blade bivector a plane, etc...
K-Versor                                                                                       | The geometric product of k vectors ($a_1 a_2 ... a_k$). K-versors do transformations (reflections, rotations).

## Geometric product, outer product, contraction and commutator

Formula                                                                                        |  Notes
-----------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------
$A_r B_s = \sum_{j=0}^{min(r,s) }\langle A_r B_s \rangle_{|r - s| + 2j}$                       | The geometric product of two k-blades will have grades from the difference between ($|m-n|$) them to the addition of them ($m+n$) with jumps of 2.
$A_3 B_5 = \langle A_2 B_3 \rangle_1 + \langle A_3 B_4 \rangle_3 + \langle A_3 B_4 \rangle_5$  | The geometric product of a bivector and a trivector will be a vector, a trivector and a 5-vector (some of them may be 0).
$A_n \rfloor B_m = \langle A_n B_m \rangle_{m - n}$                                            | The contraction is the lowest grade of the geometric product's result
$A_n \lfloor B_m = \langle A_n B_m \rangle_{n - m}$                                            | The contraction is the lowest grade of the geometric product's result
$A_n \wedge B_m = \langle A_n B_m \rangle_{n + m}$                                             | The outer product is the highest grade of the geometric product's result
$\alpha A = A \alpha$                                                                          | The geometric product of a scalar ($\alpha$) with a multivector ($B$) is the conmutative.
$a B = a \rfloor B + a \wedge B$                                                               | The geometric product of a vector ($a$) with a multivector ($B$) is the contraction plus the outer product.
$B a = B \lfloor a + B \wedge a$                                                               | The geometric product of a vector ($a$) with a multivector ($B$) is the contraction plus the outer product.
$A_m B_n = A_m \rfloor B_n + A_m \times B_n + A_m \wedge B_n, m > 1, m < n$                    | The geometric product of a k-vector ($A_n$) with a larger-grade k-vector ($B_m$) is the contraction plus the commutator plus outer product.
$A_m B_n = A_m \lfloor B_n + A_m \times B_n + A_m \wedge B_n, m > 1, m > n$                    | The geometric product of a k-vector ($A_n$) with a smaller-grade k-vector ($B_m$) is the contraction plus the commutator plus outer product.
$a \rfloor B = \frac{1}{2}(aB - B^{\ast}a)$                                                    | $a$ is a vector, $B$ a multivector.
$a \wedge B = \frac{1}{2}(aB + B^{\ast}a)$                                                     | $a$ is a vector, $B$ a multivector.
$A \times B = \frac{1}{2}(AB + BA)$                                                            | $A$ and $B$ are multivectors.
$B \lfloor a = - a \rfloor B^{\ast}$                                                           | $a$ is a vector, $B$ a multivector.
$B \wedge a = a \rfloor \wedge{B}$                                                             | $a$ is a vector, $B$ a multivector.
$a \wedge B \wedge c = -c \wedge B \wedge a$                                                   | $a$ anc $c$ are vectors, $B$ is a multivector.
$a \rfloor (B C) = (a \rfloor B) C + B^{\ast}(a \rfloor C)$                                    | $a$ is a vector, $B$ and $C$ multivectors.
$a \rfloor (B C) = (a \wedge B) C - B^{\ast}(a \wedge C)$                                      | $a$ is a vector, $B$ and $C$ multivectors.
$a \wedge (B C) = (a \wedge B) C - B^{\ast}(a \rfloor C)$                                      | $a$ is a vector, $B$ and $C$ multivectors.
$a \wedge (B C) = (a \rfloor B) C + B^{\ast}(a \wedge C)$                                      | $a$ is a vector, $B$ and $C$ multivectors.
$a \rfloor (B \wedge C) = (a \rfloor B) \wedge C + B^{\ast} \wedge (a \rfloor C)$              | $a$ is a vector, $B$ and $C$ multivectors.
$a \wedge (B \rfloor C) = (a \rfloor B) \rfloor C + B^{\ast} \rfloor (a \wedge C)$             | $a$ is a vector, $B$ and $C$ multivectors.
$a \wedge (B \lfloor C) = (a \wedge B) \lfloor C - B^{\ast} \lfloor (a \rfloor C)$             | $a$ is a vector, $B$ and $C$ multivectors.
$A \wedge (B \wedge C) = (A \wedge B) \wedge C$                                                | $A$, $B$ and $C$ are multivectors. The outer product is associative
$A \rfloor (B \lfloor C) = (A \rfloor B) \lfloor C$                                            | $A$, $B$ and $C$ are multivectors. The contraction is associative when taken from opposite sides.
$A \rfloor (B \rfloor C) = (A \wedge B) \rfloor C$                                             | $A$, $B$ and $C$ are multivectors. The contraction is **not** associative when taken from the same side.
$A \lfloor (B \wedge C) = (A \lfloor B) \lfloor C$                                             | $A$, $B$ and $C$ are multivectors. The contraction is **not** associative when taken from the same side.
$A \times (B C) = (A \times B) C + B (A \times C)$                                             | $A$, $B$ and $C$ are multivectors. The commutator is **not** commutative.
$A \times (B \times C) + B \times (C \times A) + C \times (A \times B) = 0$                    | $A$, $B$ and $C$ are multivectors. The commutator is **not** commutative.
$\alpha \times B = 0$                                                                          | The commutation of a scalar ($\alpha$) and a multivector ($B$) is zero.
$a \times B = a \rfloor \langle B \rangle_+ + a \wedge \langle B \rangle_-$                    | The commutation of a vector ($a$) and a multivector ($B$) is the contraction with the even grade parts of the multivector plus the wedge with the odd grades.
$B \times a = \langle B \rangle_+ \lfloor a + \langle B \rangle_- \wedge a$                    | The commutation of a vector ($a$) and a multivector ($B$) is the contraction with the even grade parts of the multivector plus the wedge with the odd grades.
$A_2 \times B_k = \langle A_2 B_k \rangle_k$                                                   | The commutation of a bivector ($A_2$) and a k-vector ($B_k$) yields a k-vector. Commuting with a bivector is a grade preserving operation.
$A_2 \times (B \rfloor C) = (A_2 \times B) \rfloor C + B \rfloor (A_2 \times C)$               | $A_2$ is a bivector, $B$ and $C$ are multivectors.
$A_2 \times (B \lfloor C) = (A_2 \times B) \lfloor C + B \lfloor (A_2 \times C)$               | $A_2$ is a bivector, $B$ and $C$ are multivectors.
$A_2 \times (B \wedge C) = (A_2 \times B) \wedge C + B \wedge (A_2 \times C)$                  | $A_2$ is a bivector, $B$ and $C$ are multivectors.

## Meaning of the outer product and the contraction

Concept                                                               |   Meaning
----------------------------------------------------------------------|---------------------------------------------
$A_m \wedge B_n = 0$                                                  | $A_m$ and $B_n$ are k-blades. They share at least one vector.
$A_m \wedge B_n \ne 0$                                                | The resulting blade represents the direct sum of the subspaces represented by $A_m$ and $B_n$.
$A_m \rfloor B_n = 0$                                                 | $A_m$ contains a nonzero vector othogonal $B_n$.
$A_m \rfloor B_n \ne 0$                                               | The resulting blade represents the orthogonal complement of the subspace represented by $A_m$ in $B_n$.
$A_m$ and $B_n$ are orthogonal $\implies A_m B_n = A_m \wedge B_n$    | The converse needs that either $m$ or $n$ to be $1$ or either $A_m$ or $B_n$ be invertible.
$A_m$ is a subspace of $B_n \implies A_m B_n = A_m \rfloor B_n$       | The converse needs that either $m$ or $n$ to be $1$ or either $A_m$ or $B_n$ be invertible.


## Projection and Rejection

* $P_{B_n}(A) = A \rfloor B_n B_n^{-1} = (A \rfloor B_n) \rfloor B_n^{-1}$
* $R_{B_n}(A) = A \wedge B_n B_n^{-1} = A \wedge B_n \lfloor B_n^{-1}$

## Grade involution and Reversion

Formula                                                                                                                   | Notes
--------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------
$A^{\ast} = \sum_{r}{ (-1)^r \langle A \rangle_r } = \langle A \rangle_{+} - \langle A \rangle_{-}$                       | Full definition of the grade involution.
$\alpha^{\ast} = \alpha$                                                                                                  | $\alpha$ is a scalar.
$a^{\ast} = -a$                                                                                                           | $a$ is a vector.
$(AB)^{\ast} = A^{\ast}B^{\ast}$                                                                                          | $A$ and $B$ are multivectors.
$(A + B)^{\ast} = A^{\ast} + B^{\ast}$                                                                                    | $A$ and $B$ are multivectors.
$(A \rfloor B)^{\ast} = A^{\ast} \rfloor B^{\ast}$                                                                        | $A$ and $B$ are multivectors.
$(A \lfloor B)^{\ast} = A^{\ast} \lfloor B^{\ast}$                                                                        | $A$ and $B$ are multivectors.
$(A \wedge B)^{\ast} = A^{\ast} \wedge B^{\ast}$                                                                          | $A$ and $B$ are multivectors.
$A_k^{\ast} = (-1)^k A_k$                                                                                                 | $A_k$ is a k-vector. The grade involution will flip sign is the grade is odd.
$A^{\ast} = \langle A \rangle_+ - \langle A \rangle_-$                                                                    | $A$ is a multivector. The grade involution will flip sign of the odd grades.
$A^{\ast \ast} = A$                                                                                                       | $A$ is a multivector. Two grade involutions cancel out.
$(A^{-1})^{\ast} = (A^{\ast})^{-1}$                                                                                       | $A$ is a multivector. The grade involution and the inversion commute.

Formula                                                                                                                   | Notes
--------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------
$A^{\dagger} = \sum_{r}{ (-1)^\frac{k(k-1)}{2} \langle A \rangle_r }$                                                     | Full definition of the reversion.
$A_n = a_1 a_2 ... a_n, A^{\dagger} = a_n ... a_2 a_1$                                                                    | $A_n$ is a n-versor. $a_1, a_2, a_n$ are vectors. The reversion will "reverse" the order of the multiplication. 
$\alpha^{\dagger} = \alpha$                                                                                               | $\alpha$ is a scalar.
$a^{\dagger} = a$                                                                                                         | $a$ is a vector.
$(AB)^{\dagger} = B^{\dagger}A^{\dagger}$                                                                                 | $A$ and $B$ are multivectors.
$(A + B)^{\dagger} = A^{\dagger} + B^{\dagger}$                                                                           | $A$ and $B$ are multivectors.
$(A \rfloor B)^{\dagger} = B^{\dagger} \lfloor A^{\dagger}$                                                               | $A$ and $B$ are multivectors.
$(A \lfloor B)^{\dagger} = B^{\dagger} \rfloor A^{\dagger}$                                                               | $A$ and $B$ are multivectors.
$(A \wedge B)^{\dagger} = B^{\dagger} \wedge A^{\dagger}$                                                                 | $A$ and $B$ are multivectors.
$A_k^{\dagger} = (-1)^\frac{k(k-1)}{2} A_k$                                                                               | $A_k$ is a k-vector. The reversion will flip sign of grades 2, 3, 5, 6, 9, 10, ...
$A^{\dagger \dagger} = A$                                                                                                 | $A$ is a multivector. Two reversions cancel out.
$(A^{-1})^{\dagger} = (A^{\dagger})^{-1}$                                                                                 | $A$ is a multivector. The reversion and the inversion commute.



Formula                                                                                                                   | Notes
--------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------
$A^{\ddagger} = A^{\dagger \ast} = A^{\ast \dagger}$                                                                      | This is the Clifford conjugation. It's not really important but I'm writing it here so you know it exists.
$\langle A B \rangle_0 = \langle B A \rangle_0$                                                                           | The scalar part of the geometric product is always commutative.
$\langle A B \rangle_0 = \langle A^{\ast} B^{\ast} \rangle_0$                                                             | $A$ and $B$ are multivectors.
$\langle A B \rangle_0 = \langle A^{\dagger} B^{\dagger} \rangle_0$                                                       | $A$ and $B$ are multivectors.
$\langle A B \rangle_0 = \langle A^{\ddagger} B^{\ddagger} \rangle_0$                                                     | $A$ and $B$ are multivectors.

## The Sandwitch product

Formula                                                                                                                   | Notes
--------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------
$A B_k A^{\dagger} = \langle A B_k A^{\dagger} \rangle_k$                                                                 | $A$ is a **versor**, $B_k$ a k-vector. The sandwitch product is a grade preserving operation.
$(A B A^{\dagger}) \wedge (A C A^{\dagger}) = |A|^2 A (B \wedge C) A^{\dagger}$                                           | $A$ is a **versor**, $B$ and $C$ are multivectors. The outer product of a sandwitch product is equivalent of the sandwitch product of a outer product plus a scalar factor.

## The scalar product, the norm and the inverse

Formula                                                                                                                   | Notes
--------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------
$A \ast B = \langle A^{\dagger} B \rangle_0$                                                                              | The scalar product is the scalar part of the reversion of the first factor multiplied by the second factor.
$A \ast B = \langle A^{\dagger} \rfloor B \rangle_0$                                                                      | $A$ and $B$ are multivectors.
$A \ast B = \langle A^{\dagger} \lfloor B \rangle_0$                                                                      | $A$ and $B$ are multivectors.
$A \ast B = \sum_n \langle A^{\dagger} \rangle_n \ast \langle B^{\dagger} \rangle_n$                                      | $A$ and $B$ are multivectors.
$A \ast B = \sum_n \langle A^{\dagger} \rangle_n \rfloor \langle B^{\dagger} \rangle_n$                                   | $A$ and $B$ are multivectors.
$A \ast B = \sum_n \langle A^{\dagger} \rangle_n \lfloor \langle B^{\dagger} \rangle_n$                                   | $A$ and $B$ are multivectors.
$A \ast B = B \ast A$                                                                                                     | $A$ and $B$ are multivectors. The scalar product is commutative.
$A \ast B = A^{\ast} \ast B^{\ast}$                                                                                       | $A$ and $B$ are multivectors.
$A \ast B = A^{\dagger} \ast B^{\dagger}$                                                                                 | $A$ and $B$ are multivectors.
$A \ast B = A^{\ddagger} \ast B^{\ddagger}$                                                                               | $A$ and $B$ are multivectors.
$A \ast (BC) = (B^{\dagger} A) \ast C$                                                                                    | $A$, $B$ and $C$ are multivectors.
$A \ast (B \lfloor C) = (B^{\dagger} \lfloor A) \ast C$                                                                   | $A$, $B$ and $C$ are multivectors.
$A \ast (B \rfloor C) = (B^{\dagger} \wedge A) \ast C$                                                                    | $A$, $B$ and $C$ are multivectors.
$A \ast (B \wedge C) = (B^{\dagger} \rfloor A) \ast C$                                                                    | $A$, $B$ and $C$ are multivectors.

Formula                                                                                                                   | Notes
--------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------
$|A|^2 = A \ast A$                                                                                                        | $A$ is a multivector, $|A|$ its weight.
$|A|^2 = |A^{\ast}|^2$                                                                                                    | $A$ is a multivector.
$|A|^2 = |A^{\dagger}|^2$                                                                                                 | $A$ is a multivector.
$|A|^2 = |A^{\ddagger}|^2$                                                                                                | $A$ is a multivector.


Formula                                                                                                                   | Notes
--------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------
$A = a_1 a_2 ... a_k \iff |A|^2 = A^{\dagger} B = a_1^2 a_2^2 ... a_k^2$                                                  | $A$ is a **k-versor**. $|A|^2$ equals the weight squared of each of its vector factors.
$|A|^2 \neq 0 \iff A^{-1} = \frac{A^{\dagger}}{|A|^2}$                                                                    | $A$ is a **k-versor**. If $|A|^{-1}$ if not zero, $A$ is invertible.
$|A^{-1}|^2 = |A|^{-2}$                                                                                                   | $A$ is a **k-versor**.
$(AB) \ast (AC) = (BA) \ast (CA) = |A|^2 B \ast C$                                                                        | $A$ is a **k-versor**, $B$ and $C$ are multivectors.
$|A_k|^2 = 0 \iff$ the contraction is degenerate in $A_k$                                                                 | $A_k$ is a k-blade. There is at least one non-zero vector in $A_k$ whose dot product is zero with all vectors in $A_k$, including itself.
$|A_k|^2 \neq 0 \iff A_k^{-1} = \frac{A_k}{A_k^2}$                                                                        | $A_k$ is a k-blade.


## Dual


Formula                                                                                                                   | Notes
--------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------
$A^{\perp} = A \rfloor \textbf{I}^{-1}$                                                                                   | $A$ is a multivector. $\textbf{I}$ is the volume element or pseudoscalar.
$A^{\perp} = A \textbf{I}^{-1}$                                                                                           | $A$ is a multivector. $\textbf{I}$ is the pseudoscalar.
$A^{-\perp} = A \rfloor \textbf{I}$                                                                                       | $A$ is a multivector. $\textbf{I}$ is the pseudoscalar.
$A^{-\perp} = A \textbf{I}$                                                                                               | $A$ is a multivector. $\textbf{I}$ is the pseudoscalar.
$A^{-\perp} = \textbf{I}^2 A^{\perp}$                                                                                     | $A$ is a multivector. $\textbf{I}$ is the pseudoscalar.
$(A^{\perp})^{-1} = \textbf{I} A^{-1}$                                                                                    | $A$ is a multivector. $\textbf{I}$ is the pseudoscalar.
$(A B)^{\perp} = A B^{\perp}$                                                                                             | $A$ and $B$ are multivectors.
$(A \wedge B)^{\perp} = A \rfloor B^{\perp}$                                                                              | $A$ and $B$ are multivectors.
$(A \rfloor B)^{\perp} = A \wedge B^{\perp}$                                                                              | $A$ and $B$ are multivectors.
$A^{\perp} \ast B^{\perp} = |\textbf{I}|^{-2} A \ast B$                                                                   | $A$ and $B$ are multivectors. $\textbf{I}$ is the pseudoscalar.
$R_B(a) = P_{B^{\perp}}(a)$                                                                                               | $a$ is a vector, $B$ a blade.

## Anti-wedge


Formula                                                                                                                   | Notes
--------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------
$A \vee B = (A^{\perp} \wedge B^{\perp})^{- \perp} = A^{\perp} \rfloor B$                                                 | $A$ and $B$ are multivectors. For optimal results $\textbf{I}$ has to be chosen so it contains all vectors in $A$ and $B$ and no more.

# Misc Algorithms

## Factorization of a blade

Sometimes you have a blade and want to get the vectors that make up that blade. See section [Proper Join and Meet] for an example. As we know, any blade of grade 2 or more can be factorized by an inifinite combination of vectors, so there is no way to compute a unique nor canonical factorization. But you should at least aim for a deterministic algorithm.

We are formaly searching for a factorization of the blade $B$ in a list of vectors $v_1, v_2, ... v_n$ such that $B = v_1 \wedge v_2 \wedge ... \wedge v_n$. Ideally we'd want the vectors to be orthogonal so that we can also have $B = v_1 v_2 ... v_n$.

One important note here is that we are only working with the outer product, so the *metric* is irrelevant to the factorization. This becomes very handful in some operations as we can assume there are no null blades and we can do projections without edge cases. In other words, we assume that the base vectors always square to 1: $x^2 = y^2 = z^2 = 1$. This becomes relevant in Section [Degenerative Homogeneus Space] and Section [The Conformal Model]. If you don't know what I'm talking about don't worry.

The algorithm goes somewhat like:

1. Get the grade of $B$.
2. If the grade is 1, add $B$ to the result list, we finished
3. Choose some vectors, project them into $B$.
4. Get the largest vector, $v_n$. Add it into the result list.
5. Set $B = v_n \rfloor B$.
6. Go back to 1


Choosing the vectors to project is a bit of the secret sause of the algorithm, there are two methods you can use: 

* just get the basis vectors $x, y, z...$.
* get one of the basis vectors on the largest factor of $B$.


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ C++

struct Vector3D
{
	float x, y, z;
	
	Vector3D operator*(float s) const
	{
	    return Vector3D{x * s, y * s, z * s};
	}
};

struct Bivector3D
{
	float yz, zx, xy;
};

Vector3D LeftContraction(Vector3D v, Bivector3D b)
{
	Vector3D result;
	result.x = v.z * b.zx - v.y * b.xy;
	result.y = v.x * b.xy - v.z * b.yz;
	result.z = v.y * b.yz - v.x * b.zx;
	
	return result;
}

Bivector3D Inverse(Bivector3D b)
{
	float div = - b.yz * b.yz - b.zx * b.zx - b.xy * b.xy;
	
	Bivector3D result;
	result.yz = b.yz / div;
	result.zx = b.zx / div;
	result.xy = b.xy / div;
	
	return result;
}

Bivector3D Outer(Vector3D v1, Vector3D v2)
{
	Bivector3D result;
	result.yz = v1.y * v2.z - v1.z * v2.y;
	result.zx = v1.z * v2.x - v1.x * v2.z;
	result.xy = v1.x * v2.y - v1.y * v2.x;
	
	return result;
}

Vector3D Project(Vector3D v, Bivector3D b)
{
	return LeftContraction(LeftContraction(v, b), Inverse(b));
}

std::vector< Vector3D > Factorize(Bivector3D B)
{
	Vector3D vectorCandidate;
	if ( std::abs(B.yz) > std::abs(B.zx) )
	{
		if ( std::abs(B.yz) > std::abs(B.xy) )
			vectorCandidate = Vector3D{0, 1, 1}; // yz is the largest basis
		else
			vectorCandidate = Vector3D{1, 1, 0}; // xy is the largest basis
	}
	else if ( std::abs(B.zx) > std::abs(B.xy) )
		vectorCandidate = Vector3D{1, 0, 1}; // zx is the largest basis
	else
		vectorCandidate = Vector3D{1, 1, 0}; // xy is the largest basis
	
	Vector3D v1 = Project(vectorCandidate, B);
	
	Vector3D v2 = LeftContraction(v1, B);
	
	float absB = std::sqrt(B.yz * B.yz + B.zx * B.zx + B.xy * B.xy);
	float absV1 = std::sqrt(v1.x * v1.x + v1.y * v1.y + v1.z * v1.z);
	float absV2 = std::sqrt(v2.x * v2.x + v2.y * v2.y + v2.z * v2.z);
	
	float scaler = std::sqrt(absB);
	
	return {v1 * (scaler / absV1), v2 * (scaler / absV2)};
}

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Note that this algorithm can be further optimized if you know the properties of the contraction.


## Proper Join and Meet

We've seen the anti-wedge product. It turns out the anti-wedge is an aproximation to the meet operator. But doing proper meets (aka intersections) is not easy, so the anti-wedge is often used as a shorthand. It also turns out that most of the time it will be just fine. But not always, so here I come.

We have two blades, $A$ and $B$, and we want to compute the Join $J$ and the Meet $M$[^UnionAndIntersection]. There are multiple ways to define it, but broadly we want the meet to be the greatest (in its grade) possible blade that is a subset of $A$ and $B$, and the Joint the smallest (in its grade) to be a superset of both $A$ and $B$. We can also stablish some relations:

* $M = A \cap B$
* $A = A' \wedge M$
* $B = M \wedge B'$
* $A' = A \lfloor M$
* $B' = M \rfloor B$
* $J = A \cup B$
* $J = A' \wedge M \wedge B'$
* $grade(J) = grade(A') + grade(M) + grade(B')$
* $grade(J) - grade(M) = grade(A') + grade(B')$
* $grade(J) + grade(M) = grade(A) + grade(B)$
* $grade(J) = \frac{grade(A) + grade(B) + grade(A') + grade(B')}{2}$
* $grade(M) = grade(A) + grade(B) - grade(J)$
* $J = A \cup B = A \wedge (M^{-1} \rfloor B) = (A \lfloor M^{-1}) \wedge B$
* $M = A \cap B = (B \rfloor J^{-1}) \rfloor A$
* $M\rfloor J^{-1} = (B \rfloor J^{-1}) \wedge (A \rfloor J^{-1})$

From the last formulas we can see that it's pretty easy to get the Meet once you have the Join, or get the Join once you have the Meet. The trick is how to find either of them.

Another thing you'll notice is that the formula to get the Meet is **very** similar to the anti-wedge. This is because the anti-wedge is a Meet assuming that the *pseudoscalar* is the Join. And that's about it. When the assumption is right, it will work alright, when the assumption fails...


So how can we find the real Join?

* $A = a_1 a_2 ... a_n c_m ... c_2 c_1 = A' M = A' \wedge M$ 
* $B = c_1 c_2 ... c_m b_1 b_2 ... b_k = M B' = M \wedge B'$
* $AB = a_1 a_2 ... a_n c_m ... c_2 c_1 c_1 c_2 ... c_m b_1 b_2 ... b_k = (c_1^2 c_2^2 ... c_m^2) a_1 a_2 ... a_n b_1 b_2 ... b_k = M^2 A' B'$

From this product we can get some useful information:

* The greatest grade of $\langle AB \rangle_{max} = A \Delta B$ contains all the vectors on $A$ and $B$ that are **not** in the Meet.
* The dual of it, $(A \Delta B)^{\perp}$ contain the vectors that are in the Meet and those that are not in the Join.
* The grade of it will tell us the grade of the Meet and Join.
  * $grade(Join) = \frac{grade(A) + grade(B) + grade(A \Delta B)}{2}$
  * $grade(Meet) = grade(A) + grade(B) - grade(Join)$

With that we can factorize $(A \Delta B)^{\perp}$ and test each vector, if $P_A(v_n) \ne 0$ it whould mean that the projection it is on the Meet, so we'd add it, if it is not there, we can "substract" (using the contraction) it from the *pseudoscalar*, until we get the Join. Once we have either the Meet or the Join of the grade we desire, we compute the other one with one of the formulas above and return them.



* $A = (x + y + e) \wedge z = xz + yz + ez$
* $B = (x + y + e) \wedge x = yx + ex$
* $I = exyz$
* $I^{-1} = exyz$
* $A B = (xz + yz + ez)(yx + ex)$ $= xzyx + yzyx + ezyx + xzex + yzex + ezex$ $= zy - zx + eyxz + ze - exyz - zx$ $= 2xz + zy + ze$ $= A \Delta B$
  * $(A \Delta B)$ is grade 2, so we are looking for a Join of grade 3 and a Meet of grade 1.
* $(A \Delta B)^{\perp}$ $= 2xzexyz + zyexyz + zeexyz$ $= 2ey + ex + xy$
* $(A \Delta B)^{\perp}$ $= \frac{1}{5}(x + 2e)(2x + 5y - e)$
  * This is a factorization. Look at section [Factorization of a blade] to see how to do this.
* $P_A(x + 2e) = ((x + 2e) \rfloor (xz + yz + ez)) \rfloor \frac{zx + zy + ze}{3}$ $= 3z \rfloor \frac{zx + zy + ze}{3}$ $= x + y + e$
  * $P_A(x + 2e)$ is not zero, so it is the Meet.
* $J = A \wedge (M^{-1} \rfloor B) = (xz + yz + ez) \wedge ((x + y + e) \rfloor (yx + ex))$ $= (xz + yz + ez) \wedge (2x - y - e)$ $= 3xyz + 3ezx$
* $(x + y + e) \wedge (z \wedge x) = xyz + ezx = \frac{1}{3} J$

If we interpret this blades with Section [3D Homogeneus space], we see:
* $A$ is a line that passes through the point $(1, 1, 0)$ and goes in the direction $(0, 0, 1)$.
* $B$ is a line that passes through the point $(1, 1, 0)$ and goes in the direction $(1, 0, 0)$.
* Their Meet is the point $(1, 1, 0)$.
* Their Join is the plane that passes throught the point $(1, 1, 0)$ and goes to the directions $(0, 0, 1)$ and $(1, 0, 0)$





# Linear algebra

Linear algebra is the study of linear functions. Those are functions where:

$F(a + b) = F(a) + F(b)$

As the geometric product, the outer product and the contraction are linear, it generaly works that:

* $F(a b) = F(a) F(b)$
* $F(a \wedge b) = F(a) \wedge F(b)$
* $F(a \rfloor b) = F(a) \rfloor F(b)$

Imagine we have a linear function on vectors $F$. Linear algebra gives us the tools to create a matrix equivalent to that function:

* $F(x) = \alpha_{xx} x + \alpha_{xy} y + \alpha_{xz} z$
* $F(y) = \alpha_{yx} x + \alpha_{yy} y + \alpha_{yz} z$
* $F(z) = \alpha_{zx} x + \alpha_{zy} y + \alpha_{zz} z$

This can be condensed in a matrix:

$\begin{pmatrix} \alpha_{xx} & \alpha_{yx} & \alpha_{yx} \\ \alpha_{xy} & \alpha_{yy} & \alpha_{yy} \\ \alpha_{xz} & \alpha_{yz} & \alpha_{yz} \end{pmatrix}$

$F(\beta_x x + \beta_y y + \beta_z z) = \begin{pmatrix} \alpha_{xx} & \alpha_{yx} & \alpha_{yx} \\ \alpha_{xy} & \alpha_{yy} & \alpha_{yy} \\ \alpha_{xz} & \alpha_{yz} & \alpha_{yz} \end{pmatrix} \begin{pmatrix} \beta_x \\ \beta_y \\ \beta_z \end{pmatrix}$

We can use geometric algebra to create the matrix for bivectors:

$F(y \wedge z) = F(y) \wedge F(z) = (\alpha_{yx} x + \alpha_{yy} y + \alpha_{yz} z) \wedge (\alpha_{zx} x + \alpha_{zy} y + \alpha_{zz} z)$ $= (\alpha_{yy} \alpha_{zz} - \alpha_{yz} \alpha_{zy}) yz + (\alpha_{yz} \alpha_{zx} - \alpha_{yx} \alpha_{zz}) zx + (\alpha_{yx} \alpha_{zy} - \alpha_{yy} \alpha_{zx}) xy$

I'm not going to develop the full matrix, but this creates the adjoint matrix from the previous one. In case you where wondering why normals need to be transformed by the adjoint matrix.









# 2D Homogeneus space

We have the theory, but to apply things with actual geometry there is a small step we have to climb.

You see, all vectors (lines), bivectors (planes), trivectors (volumes) we've used until now are *directional*. They express a direction, and are very good at expressing it, but they are bad at *moving from the origin*.

We could, of course, express a point of space with a vector. It whould just be the point where the vector ends, but how do you express a line? Well, with a vector (to a point on the line) and a direction (where the line spans). But now we whould be mixing things. Does the vector and the direction transform in the same way? What are bivectors useful to? It turns out there is a trick we can use.

Add an aditional dimension.

If you have worked with computer graphics, you are already using this trick. That's why matrices are $4x4$ instead of $3x3$, you are operating in 4 dimensions.

We will start here representing 2D, so we can actually make diagrams of what I'll be talking about. We will be in a 3D *representational* space.

We will call the additional dimension "$e$" (most of the literature uses $w$ in vector algebra. GA literature uses $e_0$ or more esoteric things), and we will be projecting everything to the plane $e = 1$.

<!--babylon model="http://atridas87.cat/GA/TwoDimHomo.glb"></babylon-->


## The elements

We will use:
* The basis vectors $x, y, e$
  * $x^2 = y^2 = e^2 = 1$
* The basis bivectors $ye, ex, xy$
  * $(ye)^2 = (ex)^2 = (xy)^2 = -1$
* The basis trivector $eyx$
  * $(eyx)^2 = -1$
* The pseudoscalar $I = eyx$, $I^{-1} = -eyx$
* The dual will be:
  * $\alpha^{\perp} = -\alpha eyx$
  * $(\alpha_x x + \alpha_y y + \alpha_e e)^{\perp} = \alpha_x ye + \alpha_y ex + \alpha_e xy$
    * $(\alpha_x x)^{\perp} = \alpha_x ye$
    * $(\alpha_y y)^{\perp} = \alpha_y ex$
    * $(\alpha_e e)^{\perp} = \alpha_e xy$
  * $(\alpha_{ye} ye + \alpha_{ex} ex + \alpha_{xy} xy)^{\perp} = - \alpha_{ye} x - \alpha_{ex} y - \alpha_{xy} e$
    * $(\alpha_{ye} ye)^{\perp} = - \alpha_{ye} x$
    * $(\alpha_{ex} ex)^{\perp} = - \alpha_{ex} y$
    * $(\alpha_{xy} xy)^{\perp} = - \alpha_{xy} z$
  * $(\alpha eyx)^{\perp} = \alpha$
* And the anti-dual will be:
  * $\alpha^{- \perp} = \alpha eyx$
  * $(\alpha_x x + \alpha_y y + \alpha_e e)^{- \perp} = - \alpha_x ye - \alpha_y ex - \alpha_e xy$
    * $(\alpha_x x)^{- \perp} = - \alpha_x ye$
    * $(\alpha_y y)^{- \perp} = - \alpha_y ex$
    * $(\alpha_e e)^{- \perp} = - \alpha_e xy$
  * $(\alpha_{ye} ye + \alpha_{ex} ex + \alpha_{xy} xy)^{- \perp} = \alpha_{ye} x + \alpha_{ex} y + \alpha_{xy} e$
    * $(\alpha_{ye} ye)^{- \perp} = \alpha_{ye} x$
    * $(\alpha_{ex} ex)^{- \perp} = \alpha_{ex} y$
    * $(\alpha_{xy} xy)^{- \perp} = \alpha_{xy} z$
  * $(\alpha eyx)^{- \perp} = - \alpha$



## Points in 2D space

As we mentioned, we will use this to represent the 2D euclidean space.

Points will be represented by vectors, and the map will work like this:

$(\alpha_x, \alpha_y) \implies \alpha_x x + \alpha_y y + e$

If we have a vector, we can do the inverse map like this:

$\alpha_x x + \alpha_y y + \alpha_e e \implies (\frac{\alpha_x}{\alpha_e}, \frac{\alpha_y}{\alpha_e})$

This opens a question, what do vectors with $0 e$ represent?

There are generally two interpretations: directions and points at infinity.

Algebraically, the "point at infinity" works better. Imagine you get a point and move it away and away in a given direction. The coeficients of $x$ and $y$ will increase, while the coefficient of $e$ will remain one. At a supposed infinite, it may as well be zero.

!!!
    If you multiply a point by any number, it will represent the same point.

!!!
    The point at infinity $d$ and $-d$ are actually the same point, the space "wraps around".

### Addition of points

When you add 2 proper points $(\alpha_x, \alpha_y)$ and $(\beta_x, \beta_y)$:

$(\alpha_x x + \alpha_y y + e) + (\beta_x x + \beta_y y + e)$ $= (\alpha_x + \beta_x) x + (\alpha_y + \beta_y) y + 2e$ $\implies (\frac{\alpha_x + \beta_x}{2}, \frac{\alpha_y + \beta_y}{2})$

we get the point between them.

In fact we can extend that to any number of points. And if we multiply the vector by some number (changing the coefficient of $e$) we will get a weighted mean of all the points added. This hints us to think of the coefficient of $e$ as something close to a mass.

In fact, if we add a proper point with an improper point, we will see the improper point (one with the coefficient of $e$ being zero) acts like an impulse, while the coefficient of $e$ in the first acts, again, like a mass.

!!!
    If you multiply a point by a number, it will represent the same point, but with a different "weight".
	
## Lines in 2D

If we merge 2 points we get a bivector that represents the line that passes through those vectors.

We have 3 different cases to study:

1. Two proper points, $a$ and $b$:
  * $a \wedge b = (\alpha_x x + \alpha_y y + e) \wedge (\beta_x x + \beta_y y + e)$ $= \alpha_x \beta_y xy - \alpha_x ex - \alpha_y \beta_x xy + \alpha_y ye + \beta_x ex - \beta_y ye$ $= (\beta_x - \alpha_x) ex - (\beta_y - \alpha_y) ye + (\alpha_x \beta_y - \alpha_y \beta_x) xy$ $= e \wedge ((\beta_x - \alpha_x) x + (\beta_y - \alpha_y) y) + (\alpha_x \beta_y - \alpha_y \beta_x) xy$
  * We see the result can be divided in two parts:
    * a **direction** vector (that goes from $a$ to $b$) full with attitude, orientation and even weight (the distance from $a$ to $b$
      * $e \wedge ((\beta_x - \alpha_x) x + (\beta_y - \alpha_y) y)$
    * the **moment** of the line. This encodes the distance of the line from the origin and it's winding ("clockwise" or "counterclockwise")
      * $(\alpha_x \beta_y - \alpha_y \beta_x) xy$
      * The distance is encoded with the weight, $distance = \frac{|moment|}{|direction|}$.
      * The winding is encoded in the sign of the bivector $xy$, if it is positive it goes in the same direction than it (first to the $x$ direction, then to the $y$, then to $-x$ then $-y$ back to the origin), if negative in the oposite direction.
  * $(2 x + e) \wedge (2 y + e) =  - 2 ex - 2 ye + 4 xy = e \wedge (-2 x + 2 y) + 4 xy$
    * The direction of the line is $(-2 x + 2 y)$
    * The distance from the origin is $\frac{|4 xy|}{|-2 x + 2 y|} = \frac{4}{\sqrt{8}} = \frac{\sqrt{2}}{2}$
    * If you lie the $x$ axis point to the right and the $y$ axis going up, then the line will go to anti-clockwise, so it will be moved $\frac{\sqrt{2}}{2}$ from the origin to the upper right.
2. One proper point $a$ and an improper point $d$:
  * $a \wedge d = (\alpha_x x + \alpha_y y + e) \wedge (\gamma_x x + \gamma_y y)$ $= \alpha_x \gamma_y xy - \alpha_y \gamma_x xy + \gamma_x ex - \gamma_y ye$ $= e \wedge (\gamma_x x + \gamma_y y) + (\alpha_x \gamma_y + \alpha_y \gamma_x) xy$
  * The analysis is very similar to the first case. One thing worth mentioning is that only the improper point $d$ matters to make the direction, wich makes sense as it it a point at infinity in that very direction, so any line passing through it has to go to that direction.
3. Two improper points.
  * Not very interesting case, as it will always give somthing like $\alpha xy$. It can be interpreted as a line at infinity "encircling" all the 2D plane.


There are two more interesting aspects to know about lines:

* It is often convenient to have them "normalized". One normalizes a point by having its $e$ coefficient be one. Similarly, one normalizes a line by having its direction weight being one.
* You can test if a point belongs to a line with the outer product. If it is zero, the point is in the line.
  * $( - 2 ex - 2 ye + 4 xy) \wedge (x + y + e)$ $= - 2 exy + 2 eyx + 4 xye$ $= 2 eyx + 2 eyx - 4 eyx$ $= 0$.

!!!
    Again, multipliying a line by a number does not change the line represented, only it's weight (how fast its direction goes).

### Addition of lines

Don't

If you really really want to, know that adding two lines will give you a new line that passes through the point where those lines intersect.

If you wonder what happens when the lines are parallel remember that they do intersect in the point at infinity.

## Usefull operations


### The intersection of two lines

To do a proper intersection we need the Meet. But the Meet is usually an inconvenient operation, so we can take advantadge that the join of two lines will almost always be pseudoscalar $I$ by some factor to use the anti-wedge as a replacement for the Meet. The only instance where this won't be true is if both lines are actually the same, in wich case the intersection is kind of useless.

$L_1 \vee L_2 = (\alpha_{ex} ex + \alpha_{ye} ye + \alpha_{xy} xy) \vee (\beta_{ex} ex + \beta_{ye} ye + \beta_{xy} xy)$ $= (\alpha_{ex} ex + \alpha_{ye} ye + \alpha_{xy} xy)^{\perp} \rfloor (\beta_{ex} ex + \beta_{ye} ye + \beta_{xy} xy)$ $= (- \alpha_{ex} y - \alpha_{ye} x - \alpha_{xy} e) \rfloor (\beta_{ex} ex + \beta_{ey} ey + \beta_{xy} xy)$ $= (\alpha_{ex} \beta_{xy} - \alpha_{xy} \beta_{ex}) x + (\alpha_{xy} \beta_{ye} - \alpha_{ye} \beta_{xy}) y + (\alpha_{ye} \beta_{ex} - \alpha_{ex} \beta_{ye}) e$




We have two interesting possible results:

 * $\alpha_{ye} \beta_{ex} - \alpha_{ex} \beta_{ye} \ne 0$. This means that the intersection is in a point. Effectively, the point where both lines intersect.
 * $\alpha_{ye} \beta_{ex} - \alpha_{ex} \beta_{ye} = 0$. The intersection is an improper point. This means that the lines "intersect" at infinity, so they are parallel and the result just gave us the common direction.


$( - 2 ex - 2 ye + 4 xy) \vee (ex - ye)$ $= ((\alpha_{ex} = -2) (\beta_{xy} = 0) - (\alpha_{xy} = 4) (\beta_{ex} = 1)) x + ((\alpha_{xy} = 4) (\beta_{ye} = -1) - (\alpha_{ye} = -2) (\beta_{xy} = 0)) y + ((\alpha_{ye} = -2) (\beta_{ex} = 1) - (\alpha_{ex} = -2) (\beta_{ye} = -1)) e$ $= (0 - 4) x + (-4 - 0) y + (-2 - 2) e$ $= -4 x - 4 y - 4 e$ $\implies (1, 1)$



### The orientation of a line and a point

The following operation:

$(p \wedge L)^{\perp}$

Will tell us if the point is on the right or the left of the line.

In the example we will use the line we already know $(- 2 ye - 2 ex + 4 xy)$ and a point at $(5, 0) \implies (5x + e)$


$((- 2 ye - 2 ex + 4 xy) \wedge (5x + e))^{\perp}$ $= (10 eyx + 4 xye)^{\perp}$ $= (10 eyx - 4 eyx)^{\perp}$ $= (6 eyx)^{\perp}$ $= 6 \gt 0$

This operation is of course very dependant on the pseudoscalar you choose. In our choice positive means "clockwise" so it whould be on the right of the line, and negative on the left of the line.




















# 3D Homogeneus space


This is mostly the same as the last section, but with an additional dimension. This brings us to the realm of *quite useful* as we actually live in 3D, at the price of being quite abstract, as we are actually working in 4D.

## The elements

We will use:
* The basis vectors $x, y, z, e$
  * $x^2 = y^2 = z^2 = e^2 = 1$
* The basis bivectors $ex, ey, ez, yz, zx, xy$
  * $(ex)^2 = (ey)^2 = (ez)^2 = (yz)^2 = (zx)^2 = (xy)^2 = -1$
* The basis trivectors $eyz, ezx, exy, zyx$
  * $(eyz)^2 = (ezx)^2 = (exy)^2 = (zyx)^2 = -1$
* The basis 4-vector $xyze$
  * $(xyze)^2 = 1$
* The pseudoscalar $I = xyze$, $I^{-1} = xyze$
* The dual will be:
  * $\alpha^{\perp} = \alpha xyze$
  * $(\alpha_x x + \alpha_y y + \alpha_z z + \alpha_e e)^{\perp}$ $= \alpha_x eyz + \alpha_y ezx + \alpha_z exy + \alpha_e zyx$
    * $(\alpha_x x)^{\perp} = \alpha_x eyz$
    * $(\alpha_y y)^{\perp} = \alpha_y ezx$
    * $(\alpha_z z)^{\perp} = \alpha_z exy$
    * $(\alpha_e e)^{\perp} = \alpha_e zyx$
  * $(\alpha_{ex} ex + \alpha_{ey} ey + \alpha_{ez} ez + \alpha_{yz} yz + \alpha_{zx} zx + \alpha_{xy} xy)^{\perp}$ $= \alpha_{ex} yz + \alpha_{ey} zx + \alpha_{ez} xy + \alpha_{yz} ex + \alpha_{zx} ey + \alpha_{xy} ez$
    * $(\alpha_{ex} ex)^{\perp} = \alpha_{ex} yz$
    * $(\alpha_{ey} ey)^{\perp} = \alpha_{ey} zx$
    * $(\alpha_{ez} ez)^{\perp} = \alpha_{ez} xy$
    * $(\alpha_{yz} yz)^{\perp} = \alpha_{yz} ex$
    * $(\alpha_{zx} zx)^{\perp} = \alpha_{zx} ey$
    * $(\alpha_{xy} xy)^{\perp} = \alpha_{xy} ez$
  * $(\alpha_{eyz} eyz + \alpha_{ezx} ezx + \alpha_{exy} exy + \alpha_{zyx} zyx)^{\perp}$ $= \alpha_{eyz} x + \alpha_{ezx} y + \alpha_{exy} z + \alpha_{zyx} e$
    * $(\alpha_{eyz} eyz)^{\perp} = \alpha_eyz x$
    * $(\alpha_{ezx} ezx)^{\perp} = \alpha_ezx y$
    * $(\alpha_{exy} exy)^{\perp} = \alpha_exy z$
    * $(\alpha_{zyx} zyx)^{\perp} = \alpha_zyx e$
  * $(\alpha xyze)^{\perp} = \alpha$
* And the anti-dual will be the same as the dual (4 dimensions is nice with this)



## Points in 3D space

There is not more to add to points from what we already said in Section [Points in 2D space]
 
## Lines in 3D space

We will make them in the same way as we did in Section [Lines in 2D], by wedging two points:

$a \wedge b = (\alpha_x x + \alpha_y y + \alpha_z z + e) \wedge (\beta_x x + \beta_y y + \beta_z z + e)$ $= ((\beta_x - \alpha_x) ex + (\beta_y - \alpha_y) ey + (\beta_z - \alpha_z) ez) + ((\alpha_y \beta_z - \alpha_z \beta_y) yz + (\alpha_z \beta_x - \alpha_x \beta_z) zx + (\alpha_x \beta_y - \alpha_y \beta_x) xy)$ $= e \wedge ((\beta_x - \alpha_x) x + (\beta_y - \alpha_y) y + (\beta_z - \alpha_z) z) + (\alpha_x x + \alpha_y y + \alpha_z z) \wedge (\beta_x x + \beta_y y + \beta_z z)$

We have, again, a **direction** and a **moment**. This time, the moment has 3 elements instead of one, meaning it gives us an orientation additionaly to the distance from the origin it gave us in 2D.

In fact now we can have meaningful definitions of the direction, the moment and the support vector:

* $L = \alpha_{ex} ex + \alpha_{ey} ey + \alpha_{ez} ez + \alpha_{yz} yz + \alpha_{zx} zx + \alpha_{xy} xy$ is our line
* Direction: $e^{-1} \rfloor L$ $= e^{-1} \rfloor (\alpha_{ex} ex + \alpha_{ey} ey + \alpha_{ez} ez + \alpha_{yz} yz + \alpha_{zx} zx + \alpha_{xy} xy)$ $= \alpha_{ex} x + \alpha_{ey} y + \alpha_{ez} z$
* Moment: $e^{-1} \rfloor (e \wedge L)$ $= e^{-1} \rfloor (e \wedge (\alpha_{ex} ex + \alpha_{ey} ey + \alpha_{ez} ez + \alpha_{yz} yz + \alpha_{zx} zx + \alpha_{xy} xy))$ $= \alpha_{yz} yz + \alpha_{zx} zx + \alpha_{xy} xy$
* Support Vector: $\frac{moment}{direction}$ $= moment \frac{direction}{direction^2}$ $= \frac{(\alpha_{xy} \alpha_{ey} - \alpha_{zx} \alpha_{ez}) x + (\alpha_{yz} \alpha_{ez} y - \alpha_{ex} \alpha_{xy}) y + (\alpha_{ex} \alpha_{zx} z - \alpha_{yz} \alpha_{ey}) z}{\alpha_{ex}^2 + \beta_{ey}^2 + \gamma_{ez}^2}$

The direction is quite self explanatory. The moment gives us a sense on how does the line "rotate" around the origin. The support vector is the shortest vector from the origin to the line and can be quite handy.

!!!
    The direction is always contained in the moment. So the formula $direction \wedge moment = 0$ will hold true for any valid line.

Note that we can wedge two proper points and a proper and an improper point the same as we did in 2D. But in three dimension creating a line from two improper points actually gives us something useful: A line in the horizon.

Imagine we create a line from two stars, that'd be a line in the horizon. It won't have direction but it will have moment, so it's support vector will be undefined, be carefull with that.

* $L = (3x + e) \wedge (y + z) = 3xy + 3xz + ey + ez = -3zx + 3xy + ey + ez$
* Direction: $y + z$
* Moment: $-3zx + 3xy$
* Support vector: $\frac{((\alpha_{xy} = 3) (\alpha_{ey} = 1) - (\alpha_{zx} = -3) (\alpha_{ez} = 1)) x + ((\alpha_{yz} = 0) (\alpha_{ez} = 1) - (\alpha_{ex} = 0) (\alpha_{xy} = 3)) y + ((\alpha_{ex} = 0) (\alpha_{zx} = -3) - (\alpha_{yz} = 0) (\alpha_{ey} = 1)) z}{(\alpha_{ex} = 0)^2 + (\beta_{ey} = 1)^2 + (\gamma_{ez} = 1)^2}$ $= \frac{((3) (1) - (-3) (1)) x + ((0) (1) - (0) (3)) y + ((0) (-3) - (0) (1)) z}{(0)^2 + (1)^2 + (1)^2}$ $= \frac{(3 - -3) x + (0 - 0) y + (0 - 0) z}{2}$ $= 3x$

### Adding lines

Not a good idea. Unless they intersect somewhere the thing you will get will **not** be a blade, so it won't represent any line. So be very careful if you try.

## Planes in 3D space

Wedging 3 points (or a line and a point) will give us a plane.

Planes have the same properties as lines, but with an added dimension:

* $P = \alpha_{eyz} eyz + \alpha_{ezx} ezx + \alpha_{exy} exy + \alpha_{zyx} zyx$ is our plane
* Direction: $e^{-1} \rfloor P$ $= e^{-1} \rfloor (\alpha_{eyz} eyz + \alpha_{ezx} ezx + \alpha_{exy} exy + \alpha_{zyx} zyx)$ $= \alpha_{eyz} yz + \alpha_{ezx} zx + \alpha_{exy} xy$
* Moment: $e^{-1} \rfloor (e \wedge P)$ $= e^{-1} \rfloor (e \wedge (\alpha_{eyz} eyz + \alpha_{ezx} ezx + \alpha_{exy} exy + \alpha_{zyx} zyx))$ $= \alpha_{zyx} zyx$
* Support Vector: $\frac{moment}{direction}$ $= \frac{- \alpha_{zyx}}{\alpha_{eyz}^2 + \alpha_{ezx}^2 + \alpha_{exy}^2}(\alpha_{eyz} x + \alpha_{ezx} y + \alpha_{exy} z)$





We can create a plane in the horizon using 3 improper points, but that is not really usefull as there is only one of those.


* $P = (2x + y + e) \wedge (x - y) \wedge (z) = - eyz - ezx + 3 zxy$
* Direction: $-yz - zx$
* Moment: $3 zxy$
* Support vector: $\frac{- (\alpha_{zyx} = 3)}{(\alpha_{eyz} = -1)^2 + (\alpha_{ezx} = -1)^2 + (\alpha_{exy} = 0)^2}((\alpha_{eyz} = -1) x + (\alpha_{ezx} = -1) y + (\alpha_{exy} = 0) z)$ $= \frac{-3}{2}(- x - y)$ $= \frac{3}{2}x + \frac{3}{2}y$


!!!
    You can multiply a plane by any number and it will still represent the same plane.

### Adding planes

Safer than adding lines (they always intersect *somewhere*), but avoid anyway.
  
## Usefull operations

### The intersection of a line and a plane

Unless the line goes in the plane, the Join will be the entire pseudoscalar $I$, so we can safely use the anti-wedge product to compute the meet most of the time.

$L \vee P$ $= (\alpha_{ex} ex + \alpha_{ey} ey + \alpha_{ez} ez + \alpha_{yz} yz + \alpha_{zx} zx + \alpha_{xy} xy) \vee (\beta_{eyz} eyz + \beta_{ezx} ezx + \beta_{exy} exy + \beta_{zyx} zyx)$ $= (\alpha_{ex} ex + \alpha_{ey} ey + \alpha_{ez} ez + \alpha_{yz} yz + \alpha_{zx} zx + \alpha_{xy} xy)^{\perp} \rfloor (\beta_{eyz} eyz + \beta_{ezx} ezx + \beta_{exy} exy + \beta_{zyx} zyx)$ $= (\alpha_{ex} yz + \alpha_{ey} zx + \alpha_{ez} xy + \alpha_{yz} ex + \alpha_{zx} ey + \alpha_{xy} ez) \rfloor (\beta_{eyz} eyz + \beta_{ezx} ezx + \beta_{exy} exy + \beta_{zyx} zyx)$

$= (\alpha_{ex} yz + \alpha_{ey} zx + \alpha_{ez} xy + \alpha_{yz} ex + \alpha_{zx} ey + \alpha_{xy} ez) \rfloor (\beta_{eyz} eyz + \beta_{ezx} ezx + \beta_{exy} exy + \beta_{zyx} zyx)$
 
$= (\beta_{zyx} \alpha_{ex} + \beta_{exy} \alpha_{zx} - \beta_{ezx} \alpha_{xy})$ $x + (\beta_{zyx} \alpha_{ey} + \beta_{eyz} \alpha_{xy} - \beta_{exy} \alpha_{yz})$ $y + (\beta_{zyx} \alpha_{ez} + \beta_{ezx} \alpha_{yz} - \beta_{eyz} \alpha_{zx})$ $z - (\beta_{eyz} \alpha_{ex} + \beta_{ezx} \alpha_{ey} + \beta_{exy} \alpha_{ez}) e$


Here we have to be wary of three cases:

1. The whole thing is zero, meaning the line lies in the plane
2. The coeficient of $e$ is zero. Meaning we got an improper point. The line is parallel to the plane, the improper point is the common direction.
3. The coeficient of $e$ is not zero. We got a proper point, the one where $L$ and $P$ intersect.


















### The intersection of two planes

$P_1 \vee P_2$ $= (\alpha_{eyz} eyz + \alpha_{ezx} ezx + \alpha_{exy} exy + \alpha_{zyx} zyx) \vee (\beta_{eyz} eyz + \beta_{ezx} ezx + \beta_{exy} exy + \beta_{zyx} zyx)$ $= (\alpha_{eyz} eyz + \alpha_{ezx} ezx + \alpha_{exy} exy + \alpha_{zyx} zyx)^{\perp} \rfloor (\beta_{eyz} eyz + \beta_{ezx} ezx + \beta_{exy} exy + \beta_{zyx} zyx)$ $= (\alpha_{eyz} x + \alpha_{ezx} y + \alpha_{exy} z + \alpha_{zyx} e) \rfloor (\beta_{eyz} eyz + \beta_{ezx} ezx + \beta_{exy} exy + \beta_{zyx} zyx)$ $= (\beta_{exy} \alpha_{ezx} - \beta_{ezx} \alpha_{exy}) ex + (\beta_{eyz} \alpha_{exy} - \beta_{exy} \alpha_{eyz}) ey + (\beta_{ezx} \alpha_{eyz} - \beta_{eyz} \alpha_{ezx}) ez$ $+ (\beta_{eyz} \alpha_{zyx} - \beta_{zyx} \alpha_{eyz}) yz + (\beta_{ezx} \alpha_{zyx} - \beta_{zyx} \alpha_{ezx}) zx + (\beta_{exy} \alpha_{zyx} - \beta_{zyx} \alpha_{exy}) xy$



Again, three interesting possible results:

1. The whole thing is zero, meaning the planes are actually the same plane.
2. The Direction vector is zero, meaning the planes are parallel. The resulting line is the line in infinity encircling the common "direction" of those planes.
3. The Direction vector isn't zero, so we have a proper line where the planes intersect.










### The intersection of two lines

The meet of two lines will give us the intersection of them, if they intersect. If we already know they intersect somewhere in the finite space (they are finite lines, they share a common plane) we can shortcircuit a bit with the following closed form:

$(L_1 \rfloor (L_1 \wedge (e^{-1} \rfloor L_2))^{-1}) \rfloor L_2$

Here is how to derive this equation:

* $e^{-1} \rfloor L_2$ is the direction of $L_2$.
* $L_1 \wedge (e^{-1} \rfloor L_2)$ is the plane that goes through the line $L_1$ and extends in the same direction as $L_2$. If both share plane, both will be contained in that plane. That plane is supposed to be the Join.

* $L_1 = (x + y + e) \wedge (x + y + z) = yz - zx + ex + ey + ez$
* $L_2 = (x + y + e) \wedge (- x + y + z) =  yz - zx + 2xy - ex + ey + ez$


$((yz - zx + ex + ey + ez)$ $\rfloor ((yz - zx + ex + ey + ez) \wedge (e^{-1} \rfloor (yz - zx + 2xy - ex + ey + ez)))^{-1})$ $\rfloor (yz - zx + 2xy - ex + ey + ez)$

$= ((yz - zx + ex + ey + ez)$ $\rfloor ((yz - zx + ex + ey + ez) \wedge (-x + y + z))^{-1})$ $\rfloor (yz - zx + 2xy - ex + ey + ez)$

$= ((yz - zx + ex + ey + ez)$ $\rfloor (- 2ezx + 2exy + 2zyx)^{-1})$ $\rfloor (yz - zx + 2xy - ex + ey + ez)$

$= \frac{-1}{12}((yz - zx + ex + ey + ez)$ $\rfloor (- 2ezx + 2exy + 2zyx))$ $\rfloor (yz - zx + 2xy - ex + ey + ez)$

$= \frac{-1}{12}(6x - 4y - 2z - 2e )$ $\rfloor (yz - zx + 2xy - ex + ey + ez)$

$= \frac{-1}{12}(12x + 12y + 12e)$

$= - x - y - e$
















### The orientation of a plane and a point

The following operation:

$(p \wedge P)^{\perp}$

Will tell us if the point is below or above a plane in a similar way Section [The orientation of a line and a point] did.
  




























# 2D Degenerative Dual Homogeneus Space

The problem with homogeneus space is that the additional dimension, $e$, gets in the way on the metric products (like the contraction, the scalar product, even the geometric product itself) so we only have the outer product to work with.

There are two trick we can use to get those back: Making the $e$ dimension degenerative, and using the dual representation of elements.

A degenerative metric means that $e^2 = 0$. This will make a lot of our identities useless. $I^{-1}$ won't exist anymore, as $I^2 = (exy)^2 = exyexy = eexyxy = 0 xyxy = 0$. Essentially anything with $e$ in it will square to zero. This means we will no longer define the dual as $A^{\perp} = A I^{-1}$ but as a custom made function. We also will use the anti-wedge product as $A \vee B = (A^{\perp} \wedge B^{\perp})^{-\perp}$.



## The elements

We will use:
* The basis vectors $x, y, e$
  * $x^2 = y^2 = 1$
  * $e^2 = 0$
* The basis bivectors $ye, ex, xy$
  * $(xy)^2 = -1$
  * $(ye)^2 = (ex)^2 = 0$
* The basis trivector $eyx$
  * $(eyx)^2 = 0$
* The dual will be:
  * $\alpha^{\perp} = -\alpha eyx$
  * $(\alpha_x x + \alpha_y y + \alpha_e e)^{\perp} = \alpha_x ye + \alpha_y ex + \alpha_e xy$
    * $(\alpha_x x)^{\perp} = \alpha_x ye$
    * $(\alpha_y y)^{\perp} = \alpha_y ex$
    * $(\alpha_e e)^{\perp} = \alpha_e xy$
  * $(\alpha_{ye} ye + \alpha_{ex} ex + \alpha_{xy} xy)^{\perp} = - \alpha_{ye} x - \alpha_{ex} y - \alpha_{xy} e$
    * $(\alpha_{ye} ye)^{\perp} = - \alpha_{ye} x$
    * $(\alpha_{ex} ex)^{\perp} = - \alpha_{ex} y$
    * $(\alpha_{xy} xy)^{\perp} = - \alpha_{xy} z$
  * $(\alpha eyx)^{\perp} = \alpha$
* And the anti-dual will be:
  * $\alpha^{- \perp} = \alpha eyx$
  * $(\alpha_x x + \alpha_y y + \alpha_e e)^{- \perp} = - \alpha_x ye - \alpha_y ex - \alpha_e xy$
    * $(\alpha_x x)^{- \perp} = - \alpha_x ye$
    * $(\alpha_y y)^{- \perp} = - \alpha_y ex$
    * $(\alpha_e e)^{- \perp} = - \alpha_e xy$
  * $(\alpha_{ye} ye + \alpha_{ex} ex + \alpha_{xy} xy)^{- \perp} = \alpha_{ye} x + \alpha_{ex} y + \alpha_{xy} e$
    * $(\alpha_{ye} ye)^{- \perp} = \alpha_{ye} x$
    * $(\alpha_{ex} ex)^{- \perp} = \alpha_{ex} y$
    * $(\alpha_{xy} xy)^{- \perp} = \alpha_{xy} z$
  * $(\alpha eyx)^{- \perp} = - \alpha$


## Dual Points

The point $(\alpha_x, \alpha_y)$ will be represented by the dual vector $(\alpha_x x + \alpha_y y + e)^{\perp} = \alpha_x ye + \alpha_y ex + xy$.


## Dual Lines

We will use the anti-wedge product to create lines that pass through 2 points.

* Two proper points: $a \vee b = (\alpha_x ye + \alpha_y ex + xy) \vee (\beta_x ye + \beta_y ex + xy)$ $= ((\alpha_x ye + \alpha_y ex + xy)^{\perp} \wedge (\beta_x ye + \beta_y ex + xy)^{\perp})^{-\perp}$ $= ((- \alpha_x x - \alpha_y y - e) \wedge (- \beta_x x - \beta_y y - e))^{-\perp}$ $= ((\alpha_x x + \alpha_y y + e) \wedge (\beta_x x + \beta_y y + e))^{-\perp}$ $= ((\beta_x - \alpha_x) ex + (\alpha_y - \beta_y) ye + (\beta_x \alpha_y - \beta_y \alpha_x) xy)^{-\perp}$ $= (\alpha_x - \beta_x) y + (\beta_y - \alpha_y) x + (\beta_x \alpha_y - \beta_y \alpha_x) e$
* A proper and an improper point: $a \vee b = (\alpha_x ey + \alpha_y ex + xy) \vee (\gamma_x ey + \gamma_y ex)$ $= - \gamma_x y + \gamma_y x + (\alpha_x \gamma_y - \alpha_y \gamma_x) e$
* we will have to redefine the direction, the moment and the support vector[^DirMomentRedefinition]
  * Direction: $(e \wedge L)^{\perp}$ $= (e \wedge (\alpha_x y + \alpha_y x + \alpha_e e))^{\perp}$ $= - \alpha_x x + \alpha_y y$
  * Moment: $(e \wedge ( e \wedge L^{\perp} )^{-\perp} )^{\perp}$ $=(e \wedge ( e \wedge (\alpha_x y + \alpha_y x + \alpha_e e)^{\perp} )^{-\perp} )^{\perp}$ $= \alpha_e xy$
  * The support vector is: $\frac{moment}{direction}$
* We can convert the vector into an equation: $\alpha_x x + \alpha_y y + \alpha_e e \iff y = \alpha_x x + \alpha_y y + \alpha_e = 0$







* $L = (5 ye + 6 ex + xy) \vee (-7 ye + xy) = 12 y - 6 x - 42 e$
* Line equation: $2 y - x - 7 = 0$
* Direction: $-12 x - 6 y$
* Moment: $-42 xy$
* Support Vector: $\frac{-42 xy}{-12 x - 6 y}$ $= (-42 xy)\frac{-12 x - 6 y}{144 + 36}$ $= \frac{42}{180}(12 y - 6 x)$ $= \frac{7}{5}(2 y - x)$ $= \frac{14}{5}y - \frac{7}{5}x$


## Reflections

Now we can bring back the sandwitch product to make reflections. Essentially the 4 combination will work the same way.

A fact to remember here is that $e^2 = 0$

### Reflect a point with a line

Having point $p$ and line $L$ we can reflect using $-LpL^{-1}$.


For example:

* $p = 2ye + xy \implies (2, 0)$
* $L = (-ye + xy) \vee (ye + ex) = x - y + e \implies (y = x + 1)$
* $-LpL^{-1}$ $= -(- y + x + e)(2ye + xy)\frac{- y + x + e}{2}$ $= -\frac{(x + y - 2e - 3eyx)(- y + x + e)}{2}$ $= -\frac{2ye - 6ex - 2xy}{2}$ $= -ye + 3ex + xy \implies (-1, 3)$


### Reflect a line with another line

* $L_b = (2ye + xy) \vee (-ye + 2 ex) = - 2 x - y + 4 e \implies (y = -2x + 4)$
* $L_m = (-ye + xy) \vee (ye + ex) = x - y + e \implies (y = x + 1)$
* $-L_m L_b L_m^{-1}$ $= -(x - y + e)(- 2 x - y + 4 e)\frac{x - y + e}{2}$ $= -\frac{(- 1 - 6ex - 3ye - 3xy)(x - y + e)}{2}$ $= \frac{(1 + 6ex + 3ye + 3xy)(x - y + e)}{2}$ $= \frac{- 2x - 4y + 10e}{2}$ $= - x - 2 y + 5 e \implies (y = - \frac{x}{2} + \frac{5}{2})$







### Reflect a line with a point

* $p = 2ye + xy \implies (2, 0)$
* $L = (-ye + xy) \vee (ye + ex) = x - y + e \implies (y = x + 1)$
* $pLp^{-1} = (2ye + xy)(x - y + e)(- 2ye - xy)$ $= (- x - y + 2e - 3eyx)(- 2ye - xy)$ $= - x + y + 5e \implies (y = x - 5)$


### Reflect a point with another point

* $p = 2ye + xy \implies (2, 0)$
* $p_m = 2ex + xy \implies (0, 1)$
* $p_m p_b p_m^{-1} = (2ex + xy)(2ye + xy)(-2ex - xy)$ $= (- 2ye - 2ex - 1)(-2ex - xy)$ $= -2ye + 4ex + xy \implies (-2, 4)$





## Orthogonal Transformations

### Translations

With reflections working properly, we can now use double reflections to do translations. We can construct them in two ways: A double reflection on two points, and on two parallel lines. They are equivalent, so we will only show using the double reflection on points.

$T = p_2 p_1 = (\beta_x ye + \beta_y ex + xy)(\alpha_x ye + \alpha_y ex + xy)$ $= \beta_x yexy + \beta_y exxy + \alpha_x xyye + \alpha_y xyex + xyxy$ $= \beta_x ex - \beta_y ye - \alpha_x ex + \alpha_y ye - 1$ $=  (\beta_x - \alpha_x) ex - (\beta_y - \alpha_y) ye - 1$

To make it more convenient, we can multiply it by $-1$, as we know that rotors will do the same operation regardless of it's weight (due to the inverse in the sandwitch product): $T = - p_2 p_1 = - (\beta_x - \alpha_x) ex + (\beta_y - \alpha_y) ye + 1$.

!!!
    A Translator has the form $T = - \frac{T_x}{2} ex + \frac{T_y}{2} ye + 1$


To translate a point we use the sandwitch product:


!!!
    A rotor is a unit versor, so its inverse is its reverse. $T^{-1} = T^{\dagger}$



$TpT^{\dagger} = (- \frac{T_x}{2} ex + \frac{T_y}{2} ye + 1)(\alpha_x ye + \alpha_y ex + xy)(\frac{T_x}{2} ex - \frac{T_y}{2} ye + 1)$ $= ((\frac{T_x}{2} + \alpha_x) ye + (\frac{T_y}{2} + \alpha_y) ex + xy)(\frac{T_x}{2} ex - \frac{T_y}{2} ye + 1)$ $= (\alpha_x + T_x) ye + (\alpha_y + T_y) ex + xy$

!!!
    The translator $T = - \frac{T_x}{2} ex + \frac{T_y}{2} ye + 1$ will translate points (and lines) $(T_x, T_y)$







#### Logarithm of a translator

Using the identity $e^A = 1 + A \iff A^2 = 0$ and the fact that $(\frac{T_x}{2} ex - \frac{T_y}{2} ye)^2 = 0$ to take the logarithm of a translator:

$e^{- \frac{T_x}{2} ex + \frac{T_y}{2} ye} = - \frac{T_x}{2} ex + \frac{T_y}{2} ye + 1$


!!! Warning
    You've seen me talking about *rotors* and *translators*. Formaly a translator is still a rotor. We are rotating in the representational space, wich results in a translation on the represented space. It does not help that the representational space is not euclidean so angles are *weird* there. But if you check the actual definition of a rotation you will see that it holds: the resulting bivector has the same weight that the original one, and the angle of it with the original will be double the angle of the two points we started with.








### Rotations

A reflection on two non parallel lines will result in a rotation around the point where they cross. If they cross at the origin we will see a familiar result:


* $L_1 = xy \vee (\alpha_x ye + \alpha_y ex)$ $= \alpha_y x - \alpha_x y$
* $L_2 = xy \vee (\beta_x ye + \beta_y ex)$ $= \beta_y x - \beta_x y$
* $L_2 L_1 = (\beta_y x - \beta_x y)(\alpha_y x - \alpha_x y)$ $= (\alpha_x \beta_x + \alpha_y \beta_y) + (\alpha_y \beta_x - \alpha_x \beta_y) xy$
* $R = \cos(\frac{\phi}{2}) - \sin(\frac{\phi}{2}) xy$ $= e^{-\frac{\phi}{2} xy}$


With lines that do not cross at the origin we will have a general 2-versor:


$L_2 L_1 = (\beta_y x + \beta_x y + \beta_e e)(\alpha_y x + \alpha_x y + \alpha_e e)$ $= (\alpha_y \beta_e ex - \alpha_e \beta_y) ex + (\alpha_e \beta_x - \alpha_x \beta_e) ye + (\alpha_x \beta_y xy - \alpha_y \beta_x) xy + (\alpha_x \beta_x + \alpha_y \beta_y)$

!!!
    A general transformation has the form $M = M_{ex} ex + M_{ey} ey + M_{xy} xy + M_s$


### Rotations and translations

We can split a transformation into a rotation and a translation:

$M = T R = (T_x ex + T_y ye + 1)(R_c + R_s xy)$ $= (T_x R_c - T_y R_s) ex + (T_y R_c + T_x R_s) ye + R_s xy + R_c$

* $M = M_{ex} ex + M_{ye} ye + M_{xy} xy + M_s$
* $R = M_s + M_{xy} xy$
* $T = M R^{-1}$

Now we can make the logarithm separately or with the formula:

* $e^A = \cos \alpha + \frac{A \sin \alpha}{\alpha} \iff A^2 = - \alpha^2$
* $(M_{ex} ex + M_{ye} ye + M_{xy} xy)^2 = -M_{xy}^2$
* $e^{-\frac{\phi}{2}(M_{ex} ex + M_{ye} ye + xy)}$ $= - \sin(\frac{\phi}{2}) M_{ex} ex - \sin(\frac{\phi}{2}) M_{ye} ye - \sin(\frac{\phi}{2}) xy + \cos(\frac{\phi}{2})$



* $M = e^{-\frac{\frac{\pi}{2}}{2}(2 ex + 3 ye + xy)}$ $= - \sin(\frac{\pi}{4}) 2 ex - \sin(\frac{\pi}{4}) 3 ye - \sin(\frac{\pi}{4}) xy + \cos(\frac{\pi}{4})$ $= - \sqrt{2} ex - \frac{3 \sqrt{2}}{2} ye - \frac{\sqrt{2}}{2} xy + \frac{\sqrt{2}}{2}$
* $P = 3ye + xy \implies (3, 0)$
* $(- \sqrt{2} ex - \frac{3 \sqrt{2}}{2} ye - \frac{\sqrt{2}}{2} xy + \frac{\sqrt{2}}{2})(3ye + xy)(\sqrt{2} ex + \frac{3 \sqrt{2}}{2} ye + \frac{\sqrt{2}}{2} xy + \frac{\sqrt{2}}{2})$ $= (\frac{5 \sqrt{2}}{2} ye + \frac{\sqrt{2}}{2} xy + \frac{\sqrt{2}}{2})(\sqrt{2} ex + \frac{3 \sqrt{2}}{2} ye + \frac{\sqrt{2}}{2} xy + \frac{\sqrt{2}}{2})$ $= 5 ye + 2 ex + xy \implies (5, 2)$
  * This is an interesting result. It implies that we have rotated 90? around the point $(3, 2)$ in the direction of the bivector $xy$.




This result implies we can construct a rotation around a given point easily. Also the fact that the exponent is an anti-vector (the dual of a vector) means that whe can add 2 of them more or less freely, so we could potentially interpolate between them.


In the light of that result we can go back to the logarithm of the translation and see that it is in fact a rotation around an improper point (a point at infinity) wich makes sense.


!!!
    Any combination of rotations and translations in 2D can be simplified to a rotation around a point.



## Other Operations

### Line orthogonal to another line and passing through a point

$L \rfloor p$

### Projection of a line into a point

$(L \rfloor p) p$

### Projection of a point into a line

$(p \lfloor L) L$


### Angle between two lines:

* $L_1 \ast L_2 = \cos(\phi) |L_1| |L_2|$
* $\phi = \cos^{-1} \frac{L_1 \ast L_2}{|L_1| |L_2|}$



## Cheatsheet

Formula                                                                                                                                                            | Notes
-------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------
$(\alpha_x, \alpha_y) \iff \alpha_x ye + \alpha_y ex + xy$                                                                                                         | Proper point
$\alpha_x ye + \alpha_y ex$                                                                                                                                        | Improper point (point at the infinite)
$|\alpha_x ye + \alpha_y ex + \alpha_e xy| = \alpha_e$                                                                                                             | Norm of a proper point
$|\alpha_x ye + \alpha_y ex|_{\infty} = \sqrt{\alpha_x^2 + \alpha_y^2}$                                                                                            | Ideal norm of an improper point
$\widehat{p} = \widehat{\alpha_x ye + \alpha_y ex + \alpha_e xy} = \frac{\alpha_x}{\alpha_e} ye + \frac{\alpha_y}{\alpha_e} ex + xy$                               | Normalized proper point
$\widehat{d} = \widehat{\alpha_x ye + \alpha_y ex} = \frac{\alpha_x}{\sqrt{\alpha_x^2 + \alpha_y^2}} ye + \frac{\alpha_y}{\sqrt{\alpha_x^2 + \alpha_y^2}} ex$      | Normalized improper point
$L = p_1 \vee p_2$                                                                                                                                                 | Line defined from two points (proper or improper)
$(e \wedge L)^{\perp}$ $= (e \wedge (\alpha_x y + \alpha_y x + \alpha_e e))^{\perp}$ $= - \alpha_x x + \alpha_y y$                                                 | Direction of the line
$(e \wedge ( e \wedge L^{\perp} )^{-\perp} )^{\perp}$ $=(e \wedge ( e \wedge (\alpha_x y + \alpha_y x + \alpha_e e)^{\perp} )^{-\perp} )^{\perp}$ $= \alpha_e xy$  | Moment of the line
$\frac{moment}{direction}$                                                                                                                                         | Support vector of the line
$p = L_1 \wedge L_2$                                                                                                                                               | Point as the intersection of two lines
$|\alpha_x y + \alpha_y x + \alpha_e e| = \sqrt{\alpha_x^2 + \alpha_y^2}$                                                                                          | Norm of a proper line
$\widehat{L} = \widehat{\alpha_x y + \alpha_y x + \alpha_e e} = \frac{\alpha_x}{\sqrt{\alpha_x^2 + \alpha_y^2}} x + \frac{\alpha_y}{\sqrt{\alpha_x^2 + \alpha_y^2}} y + \frac{\alpha_e}{\sqrt{\alpha_x^2 + \alpha_y^2}} e$      | Normalized proper line
$-L X L^{-1} = -\widehat{L} X \widehat{L}$                                                                                                                         | Reflect $X$ on a line
$-p X p^{-1} = -\widehat{p} X \widehat{p}$                                                                                                                         | Reflect $X$ on a point
$T = - \frac{T_x}{2} ex + \frac{T_y}{2} ye + 1$                                                                                                                    | Translator that translates $(T_x, T_y)$
$T X T^{\dagger}$                                                                                                                                                  | Translate $X$
$e^{- \frac{T_x}{2} ex + \frac{T_y}{2} ye} = - \frac{T_x}{2} ex + \frac{T_y}{2} ye + 1$                                                                            | Logarithm of a translator
$R = \cos(\frac{\phi}{2}) - \sin(\frac{\phi}{2}) xy$ $= e^{-\frac{\phi}{2} xy}$                                                                                    | Rotor
$M = e^{-\frac{\phi}{2}(M_{x} ye + M_{y} ex + xy)}$ $= - \sin(\frac{\phi}{2}) M_{x} ye - \sin(\frac{\phi}{2}) M_{y} ex - \sin(\frac{\phi}{2}) xy + \cos(\frac{\phi}{2})$ | Motor. Rotates $\phi$ around the point $(M_{x}, M_{y})$
$M = TR = M_{ex} ex + M_{ye} ye + M_{xy} xy + M_{s},$ $R = M_{xy} + M_s, T = MR^{-1}$                                                                              | Decompose a motor in a rotation and a translation
$M = 1 + \widehat{L_2 L_1}$                                                                                                                                        | Motor that tranforms line $L_1$ into line $L_2$
$\widehat{L_1} \cdot \widehat{L_2} = \cos \phi$                                                                                                                    | Angle between two lines
$|\widehat{L_1} \wedge \widehat{L_2}| = \sin \phi$                                                                                                                 | Angle between two lines
$|\widehat{L_1} \wedge \widehat{L_2}|_{\infty}$                                                                                                                    | Distance between two parallel lines
$\widehat{p_1} \times \widehat{p_2}$                                                                                                                               | Direction perpendicular to the line between two points
$|\widehat{p_1} \vee \widehat{p_2}|, |\widehat{p_1} \times \widehat{p_2}|_{\infty}$                                                                                | Distance between two points
$|\widehat{L} \wedge \widehat{p}|$                                                                                                                                 | Distance from a point to a line.
$|\widehat{L} \wedge \widehat{d}|_{\infty} = \sin \phi$                                                                                                            | Angle from a line to an improper point
$p \lfloor L$                                                                                                                                                      | Line through a point perpendicular to a line
$(p \lfloor L) L^{-1} = (p \lfloor \widehat{L}) \widehat{L}$                                                                                                       | Nearest point in a line to another point
$(p \lfloor L) p^{-1} = (\widehat{p} \lfloor L) \widehat{p}$                                                                                                       | Line through a point and parallel to a line









# 3D Degenerative Dual Homogeneus Space

Now it's time to add the z dimension and represent 3D



!!! Warning
    This section is a stub

## The elements

We will use:
* The basis vectors $x, y, z, e$
  * $x^2 = y^2 = z^2 = 1$
  * $e^2 = 0$
* The basis bivectors $ex, ey, ez, yz, zx, xy$
  * $(yz)^2 = (zx)^2 = (xy)^2 = -1$
  * $(ex)^2 = (ey)^2 = (ez)^2 = 0$
* The basis trivectors $eyz, ezx, exy, zyx$
  * $(zyx)^2 = -1$
  * $(eyz)^2 = (ezx)^2 = (exy)^2 = 0$
* The basis 4-vector $xyze$
  * $(xyze)^2 = 0$
* The dual will be:
  * $\alpha^{\perp} = xyze$
  * $(\alpha_x x + \alpha_y y + \alpha_z z + \alpha_e e)^{\perp}$ $= \alpha_x eyz + \alpha_y ezx + \alpha_z exy + \alpha_e zyx$
    * $(\alpha_x x)^{\perp} = \alpha_x eyz$
    * $(\alpha_y y)^{\perp} = \alpha_y ezx$
    * $(\alpha_z z)^{\perp} = \alpha_z exy$
    * $(\alpha_e e)^{\perp} = \alpha_e zyx$
  * $(\alpha_{ex} ex + \alpha_{ey} ey + \alpha_{ez} ez + \alpha_{yz} yz + \alpha_{zx} zx + \alpha_{xy} xy)^{\perp}$ $= \alpha_{ex} yz + \alpha_{ey} zx + \alpha_{ez} xy + \alpha_{yz} ex + \alpha_{zx} ey + \alpha_{xy} ez$
    * $(\alpha_{ex} ex)^{\perp} = \alpha_{ex} yz$
    * $(\alpha_{ey} ey)^{\perp} = \alpha_{ey} zx$
    * $(\alpha_{ez} ez)^{\perp} = \alpha_{ez} xy$
    * $(\alpha_{yz} yz)^{\perp} = \alpha_{yz} ex$
    * $(\alpha_{zx} zx)^{\perp} = \alpha_{zx} ey$
    * $(\alpha_{xy} xy)^{\perp} = \alpha_{xy} ez$
  * $(\alpha_{eyz} eyz + \alpha_{ezx} ezx + \alpha_{exy} exy + \alpha_{zyx} zyx)^{\perp}$ $= \alpha_{eyz} x + \alpha_{ezx} y + \alpha_{exy} z + \alpha_{zyx} e$
    * $(\alpha_{eyz} eyz)^{\perp} = \alpha_eyz x$
    * $(\alpha_{ezx} ezx)^{\perp} = \alpha_ezx y$
    * $(\alpha_{exy} exy)^{\perp} = \alpha_exy z$
    * $(\alpha_{zyx} zyx)^{\perp} = \alpha_zyx e$
  * $(\alpha xyze)^{\perp} = \alpha$
* And the anti-dual will be the same as the dual (4 dimensions is nice with this)


## Dual Points

The point $(\alpha_x, \alpha_y, \alpha_z)$ will be represented by the trivector (aka dual vector) $\alpha_x eyz + \alpha_y ezx + \alpha_z exy + zyx$

## Dual Lines

We will represent them with bivectors:

* $a \vee b = (\alpha_x eyz + \alpha_y ezx + \alpha_z exy + zyx) \vee (\beta_x eyz + \beta_y ezx + \beta_z exy + zyx)$ $= ((\alpha_x eyz + \alpha_y ezx + \alpha_z exy + zyx)^{\perp} \wedge (\beta_x eyz + \beta_y ezx + \beta_z exy + zyx)^{\perp})^{-\perp}$ $= ((\alpha_x x + \alpha_y y + \alpha_z z + e) \wedge (\beta_x x + \beta_y y + \beta_z z + e))^{-\perp}$ $= ((\beta_x - \alpha_x) ex  + (\beta_y - \alpha_y) ey + (\beta_z - \alpha_z) ez$ $+ (\alpha_y \beta_z - \alpha_z \beta_y) yz + (\alpha_z \beta_x - \alpha_x \beta_z) zx + (\alpha_x \beta_y - \alpha_y \beta_x) yx)^{-\perp}$ $= (\beta_x - \alpha_x) yz  + (\beta_y - \alpha_y) zx + (\beta_z - \alpha_z) xy$ $+ (\alpha_y \beta_z - \alpha_z \beta_y) ex + (\alpha_z \beta_x - \alpha_x \beta_z) ey + (\alpha_x \beta_y - \alpha_y \beta_x) ez$
  * $a \vee b = (\alpha_x eyz + \alpha_y ezx + \alpha_z exy + zyx) \vee (\beta_x eyz + \beta_y ezx + \beta_z exy + zyx)$ $= (\beta_x - \alpha_x) yz  + (\beta_y - \alpha_y) zx + (\beta_z - \alpha_z) xy$ $+ (\alpha_y \beta_z - \alpha_z \beta_y) ex + (\alpha_z \beta_x - \alpha_x \beta_z) ey + (\alpha_x \beta_y - \alpha_y \beta_x) ez$
  * $a \vee d = (\alpha_x eyz + \alpha_y ezx + \alpha_z exy + zyx) \vee (\gamma_x eyz + \gamma_y ezx + \gamma_z exy)$ $= \gamma_x yz  + \gamma_y zx + \gamma_z xy$ $+ (\alpha_y \gamma_z - \alpha_z \gamma_y) ex + (\alpha_z \gamma_x - \alpha_x \gamma_z) ey + (\alpha_x \gamma_y - \alpha_y \gamma_x) ez$
* Properties of the line:
  * Direction: $(e \wedge L)^{\perp}$ $= (e \wedge (\alpha_{yz} yz + \alpha_{zx} zx + \alpha_{xy} xy + \alpha_{ex} ex + \alpha_{ey} ey + \alpha_{ez} ez))^{\perp}$ $= \alpha_{yz} x + \alpha_{zx} y + \alpha_{xy} z$
  * Moment: $(e \wedge ( e \wedge L^{\perp} )^{-\perp} )^{\perp}$ $=(e \wedge ( e \wedge (\alpha_{yz} yz + \alpha_{zx} zx + \alpha_{xy} xy + \alpha_{ex} ex + \alpha_{ey} ey + \alpha_{ez} ez)^{\perp} )^{-\perp} )^{\perp}$ $= \alpha_{ex} yz + \alpha_{ey} zx + \alpha_{ez} xy$
  * The support vector is: $\frac{moment}{direction}$

As an example:

* $L = (3 eyz + 2 ezx + exy + zyx) \vee (- eyz + zyx)$ $= -4 yz - 2 zx - 1 xy - ey + 2 ez$
* Direction: $-4 x - 2 y - 1 z$
* Moment: $- zx + 2 xy$
* Support: $\frac{- zx + 2 xy}{-4 x - 2 y - 1 z}$ $= \frac{(- zx + 2 xy)(-4 x - 2 y - 1 z)}{21}$ $= \frac{(- zx + 2 xy)(-4 x - 2 y - 1 z)}{21}$ $= \frac{- 5x + 8y + 4z}{21}$



## Dual Planes


Similar to dual 2D lines, planes can be build using either the anti-wedge product of 3 dual points or with its equation: $\alpha x + \beta y + \gamma z + \iota e \iff \alpha x + \beta y + \gamma z + \iota = 0$.

* Direction: $(e \wedge P)^{\perp}$ $= (e \wedge (\alpha_x x + \alpha_y y + \alpha_z z + \alpha_e e))^{\perp}$ $= \alpha_x yz + \alpha_y zx + \alpha_z xy$
* Moment: $(e \wedge ( e \wedge P^{\perp} )^{-\perp} )^{\perp}$ $=(e \wedge ( e \wedge (\alpha_x x + \alpha_y y + \alpha_z z + \alpha_e e)^{\perp} )^{-\perp} )^{\perp}$ $= \alpha_e zyx$
* The support vector is: $\frac{moment}{direction}$


## Reflections

* $p$ point, $L$ line, $P$ plane
* Reflecting on points:
  * $-p_r p_b p_r$
  * $-p L p$
  * $-p P p$
* Reflecting on lines:
  * $-L p L$
  * $-L_r L_b L_r$
  * $-L P L$
* Reflecting on planes:
  * $-P p P$
  * $-P L P$
  * $-P_r P_b P_r$



## Orthogonal transformations

### Translations

We can construct a translation by reflecting in two points (or two parallel lines, or two parallel planes). We get to the form:

$T = \frac{T_x}{2} ex + \frac{T_y}{2} ey + \frac{T_z}{2} ez + 1 = e^{\frac{T_x}{2} ex + \frac{T_y}{2} ey + \frac{T_z}{2} ez}$

This will translate $(T_x, T_y, T_z)$.


### Rotation around a line

If we reflect in two planes crossing on a line we will get a rotation around that given line.

* $P_1 = \beta_x x + \beta_y y + \beta_z z + \beta_e e$
* $P_2 = \alpha_x x + \alpha_y y + \alpha_z z + \alpha_e e$
* Common Line: $P_2 \wedge P_1$ $= (\alpha_y \beta_z - \alpha_z \beta_y) yz + (\alpha_z \beta_x - \alpha_x \beta_z) zx + (\alpha_x \beta_y - \alpha_y \beta_x) xy + (\alpha_e \beta_x - \alpha_x \beta_e) ex + (\alpha_e \beta_y - \alpha_y \beta_e) ey + (\alpha_e \beta_z - \alpha_z \beta_e) ez$
* Rotator: $P_2 P_1$ $= (\alpha_y \beta_z - \alpha_z \beta_y) yz + (\alpha_z \beta_x - \alpha_x \beta_z) zx + (\alpha_x \beta_y - \alpha_y \beta_x) xy + (\alpha_e \beta_x - \alpha_x \beta_e) ex + (\alpha_e \beta_y - \alpha_y \beta_e) ey + (\alpha_e \beta_z - \alpha_z \beta_e) ez +$ $(\alpha_x \beta_x + \alpha_y \beta_y + \alpha_z \beta_z)$
* Rotator: $R = \cos(\frac{\phi}{2}) - \sin(\frac{\phi}{2})(d_x yz + d_y zx + d_z xy + m_x ex + m_y ey + m_z ez)$ $= e^{-\frac{\phi}{2}(d_x yz + d_y zx + d_z xy + m_x ex + m_y ey + m_z ez)}$
  * $d_x^2 + d_y^2 + d_z^2 = 1$
  * This formula lets us make a rotation around a given line with any given angle $\phi$.
  * Note that you can not interpolate 2 lines, so interpolating the logarithm of two rotors will not give you a valid rotor (unless they cross at some point). There is a way to interpolate them using the properties of lines:
    * If you want to interpolate $(\alpha, L_1, L_2)$, you first separate the moment and direction of $L_1$ and $L_2$
      * $Moment = (1 - \alpha) Moment_1 + \alpha Moment_2$
      * $Direction = (1 - \alpha) Direction_1 + \alpha Direction_2$
    * For $L$ to be a valid line, the direction has to be contained in the moment, so:
      * If $Moment \ne 0$ then $CorrectedDirection = P_{Moment}(Direction) = (Direction \rfloor Moment) Moment^{-1}$
    * Finaly rebuild the $L$ from the right moment and direction.


### Screw motion


**Any** combination of rotations and translations in 3D can be simplified to a screw motion (a rotation + translation around a line). This is a generalization of the 2D equivalent of a rotation around a point, just adding the displacement among the "extended" point.


#### Non-blades bivectors

A bivector in 3D Homogeneus space is neither a vector nor an anti-vector. This means that it is possible for it to not be a blade. That means that such bivector will not have an "easy" logarithm, or even a normalization. So let's define it:

* $B = B_{ex} ex + B_{ey} ey + B_{ez} ez + B_{yz} yz + B_{zx} zx + B_{xy} xy$ is our bivector.
* If $B$ is a blade, then $B \wedge B = 0$
  * If $B$ is not a blade, then $B \wedge B \ne 0$
* $B^2 = B \rfloor B + B \wedge B = \alpha_s + \alpha_I xyze$ $= - (B_{yz}^2 + B_{zx}^2 + B_{xy}^2) - 2(B_{ex} B_{yz} + B_{ey} B_{zx} + B_{ez} B_{xy}) xyze$
  * $B \rfloor B = \alpha_s < 0$
  * $B \wedge B = \alpha_I \ne 0$
* $|B| = \sqrt{-(\alpha_s + \alpha_I xyze)} = \sqrt{-\alpha_s} + \frac{\alpha_I}{2 \sqrt{-\alpha_s}} xyze$ $= \sqrt{B_{yz}^2 + B_{zx}^2 + B_{xy}^2} - \frac{B_{ex} B_{yz} + B_{ey} B_{zx} + B_{ez} B_{xy}}{\sqrt{B_{yz}^2 + B_{zx}^2 + B_{xy}^2}} xyze$
  * $\alpha_u = \sqrt{-\alpha_s}$ $= \sqrt{B_{yz}^2 + B_{zx}^2 + B_{xy}^2}$
  * $\alpha_v = \frac{\alpha_I}{2 \sqrt{-\alpha_s}}$ $= - \frac{B_{ex} B_{yz} + B_{ey} B_{zx} + B_{ez} B_{xy}}{\sqrt{B_{yz}^2 + B_{zx}^2 + B_{xy}^2}}$
* $|B|^{-1} = \frac{1}{\sqrt{-\alpha_s}} - \frac{\alpha_I}{2 \alpha_s \sqrt{-\alpha_s}} xyze$ $= \frac{1}{\sqrt{B_{yz}^2 + B_{zx}^2 + B_{xy}^2}} - \frac{B_{ex} B_{yz} + B_{ey} B_{zx} + B_{ez} B_{xy}}{(B_{yz}^2 + B_{zx}^2 + B_{xy}^2) \sqrt{B_{yz}^2 + B_{zx}^2 + B_{xy}^2}} xyze$
* $\widehat{B} = |B|^{-1}B$ $= \frac{B_{ex} ex + B_{ey} ey + B_{ez} ez + B_{yz} yz + B_{zx} zx + B_{xy} xy}{\sqrt{B_{yz}^2 + B_{zx}^2 + B_{xy}^2}}$ $- \frac{B_{ex} B_{yz} + B_{ey} B_{zx} + B_{ez} B_{xy}}{(B_{yz}^2 + B_{zx}^2 + B_{xy}^2) \sqrt{B_{yz}^2 + B_{zx}^2 + B_{xy}^2}} (B_{yz} ex + B_{zx} ey + B_{xy} ez)$
* $B = \alpha_u \widehat{B} + \alpha_v \widehat{B} xyze$ $= \sqrt{-\alpha_s} \widehat{B} + \frac{\alpha_I}{2 \sqrt{-\alpha_s}} \widehat{B} xyze$
* $\widehat{B}^2 = -1$
  * $(\widehat{B} xyze)^2 = 0$

Note that $\widehat{B}$ is not a multiple of $B$, so it does not follow the same "normalization" rules. Also, $\widehat{B}$ and $\widehat{B} xyze$ commute, so $(\widehat{B})(\widehat{B} xyze) = (\widehat{B} xyze)(\widehat{B})$ wich is important.

!!! warning
    $\widehat{B} xyze$ whould be $\widehat{B}^{\perp}$ if we had defined the dual properly. But we have the weird "degenerate" dual now that does not get rid of the degenerate part so I have to be carefull to write the volume element.

Now we can make the exponent of a non-blade bivector:

$e^{B} = e^{\alpha_u \widehat{B} + \alpha_v \widehat{B} xyze}$ $= e^{\alpha_u \widehat{B}} e^{\alpha_v \widehat{B} xyze} = e^{\alpha_v \widehat{B} xyze} e^{\alpha_u \widehat{B}}$ 

We have decomposed the exponent in two exponents. $e^{\alpha_u \widehat{B}}$ is a rotation around an axis ($\widehat{B}$). $e^{\alpha_v \widehat{B} xyze}$ is a translation in the direction of said axis (a rotation to the improper line perpendicular to that axis).

* $e^{\alpha_u \widehat{B}}$ $= \cos(\alpha_u) + \sin(\alpha_u) \widehat{B}$
* $e^{\alpha_v \widehat{B} xyze}$ $= 1 + \alpha_v \widehat{B} xyze$
* $e^B = (\cos(\alpha_u) + \sin(\alpha_u) \widehat{B})(1 + \alpha_v \widehat{B} xyze)$ $= \cos(\alpha_u) + \sin(\alpha_u) \widehat{B} + \alpha_v \cos(\alpha_u) \widehat{B} xyze - \alpha_v \sin(\alpha_u) \widehat{B} xyze$ $= (\cos(\alpha_u) - \alpha_v \sin(\alpha_u) xyze) + (\sin(\alpha_u) + \alpha_v \cos(\alpha_u) xyze)\widehat{B}$



!!! warning
    temp result


* $e^{m_x ex + m_y ey + m_z ez + d_x yz + d_y zx + d_z xy}$ $=e^{D \overrightarrow{D} + \overrightarrow{M}}$
  * $D = \sqrt{d_x^2 + d_y^2 + d_z^2}$
  * $D \overrightarrow{D} = d_x yz + d_y zx + d_z xy$
  * $N = d_x m_x + d_y m_y + d_z m_z$
  * $\overrightarrow{M} = m_x ex + m_y ey + m_z ez$
* $I = xyze$
* $e^{D \overrightarrow{D} + \overrightarrow{M}}$ $= \cos(D) + \sin(D) \overrightarrow{D} + \frac{\sin(D)}{D} \overrightarrow{M} - \frac{\sin(D) N}{D} I + ( \frac{\sin(D)}{D^2} -  \frac{\cos(D)}{D}) N  \overrightarrow{D} I$


#### Logarithm of a screw

* $M = \langle M \rangle_0 + \langle M \rangle_2 + \langle M \rangle_4$ $= M_0 + \langle M \rangle_2 + M_4 I$ $= (M_0 + M_4 I) + (M_s + M_I I)\widehat{\langle M \rangle_2}$
* If $M_0 \ne 0$
  * $\alpha_u = \tan^{-1}(M_s, M_0)$ $= \tan^{-1} \frac{M_s}{M_0}$
  * $\alpha_v = \frac{M_I}{M_0}$
* Else
  * $\alpha_u = \tan^{-1}(-M_4, M_I)$ $= \tan^{-1} \frac{M_4}{M_I}$
  * $\alpha_v = \frac{-M_4}{M_s}$
* $M = e^{(\alpha_u +\alpha_v I)\widehat{\langle M \rangle_2}}$
  * $s = \sqrt{- \langle M \rangle_2 \rfloor \langle M \rangle_2 }$
  * $p = \frac{\langle M \rangle_2 \wedge \langle M \rangle_2}{2 s}$
  * $\widehat{\langle M \rangle_2} = \frac{s - p}{s^2} \langle M \rangle_2$































































# The Conformal Model

# Implementation Notes

!!! Warning
    TODO. TLDR: use GA to find the formula you want and then "manualy" simplify as much as you can.

# Bibliography

[#Lengyel16]: https://foundationsofgameenginedev.com/

[#Chisolm12]: https://arxiv.org/abs/1205.5935

[#GAComSci]: http://www.geometricalgebra.net/

[#Gunn19]: https://dl.acm.org/citation.cfm?id=3328099

# Footnotes

[^GA]: I'll be using *GA* as a shorthand for *Geometric Algebra*

[^DegenerativeMetric]: A basis vector that squares to zero will make a *degenerative metric*. At the moment of writing I don't fully understand it. I will and if you read this in the future this footnote will (hopefuly) be obsolete.

[^MultivectorAddition]: Turns out that multivector addition is geometricaly meaningless. So don't do that.

[^ErrorProne]: All this signs and shifts make it extremly error prone. I won't be surprised if someone finds a mistake in my computation.

[^BivectorArea]: GA does not have units per se, everything is relative. $4xy$ is $4$ times larger than $xy$, wich is $x$'s lenght squared (the basis vectors $x, y, z$ have the same lenght because $x^2 = y^2 = z^2 = 1$).

[^UnionAndIntersection]: I **HATE** the symbols $\cap$ and $\cup$. I've been as careful as I am capable to not screw them up. But be veeeeery careful because it is extremly likely I screwed em up.

[^DirMomentRedefinition]: Where does this redefinition come from? First, we take the dual of the line $L^{\perp}$, then we use the formulas $A \rfloor B^{\perp} = (A \wedge B)^{\perp}$ and $A \wedge B^{\perp} = (A \rfloor B)^{\perp}$ to transform any contraction by $e$ to an outer product.

<!-- Markdeep: --><style class="fallback">body{visibility:hidden;white-space:pre;font-family:monospace}</style><script>
    var unicodemathmlOptions = {
        resolveControlWords: true,
    };
</script>
<script src="../src/unicodemathml.js"></script>
<script src="unicodemathml-parser.js"></script>
<script src="unicodemathml-integration.js"></script><script src="markdeep-1.06.js" charset="utf-8"></script><script>window.alreadyProcessedMarkdeep||(document.body.style.visibility="visible")</script><!--script src="babylon.viewer.js"></script-->
