<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UnicodeMathML Playground</title>

    <script>

        // prevent caching
        function loadUncachedStylesheet(path) {
            document.write('<link rel="stylesheet" href="' + path + '?' + Math.random() + '">');
        }
        function loadUncachedScript(path) {
            document.write('<script src="' + path + '?' + Math.random() + '"></scr' + 'ipt>');
        }
    </script>

    <link rel="stylesheet" href="assets/lib/iosevka/2.0.1/webfont.css">
    <link rel="stylesheet" href="assets/lib/latinmodern/1.959/webfont.css">
    <script>loadUncachedStylesheet("assets/playground.css")</script>
</head>
<body>
    <h1>
        <span id="heading">UnicodeMathML <em>ğğ“ğ”ğš¢ğ—´ğ‘Ÿğ–”ğ“Šğ™£ğ••<!--ğğ“ğ”ğš¢Í›ğ—´ğ‘Ÿğ–”âƒ—ğ“Šğ™£Í–ğ••-->Â </em></span>
        <i class="pointer fa fa-4x fa-microphone-slash" id="mic">micÂ </i>
        <a href="https://www.unicode.org/notes/tn28/UTN28-PlainTextMath-v3.2.pdf" target="_blank">Help</a>
        <span>Â <a href="https://github.com/MurrayIII/UnicodeMathML/" target="_blank">About</a></span>
    </h1>
    <aside id="config"><h2>âš™ï¸</h2></aside>
    <script>
        var buttons = [
            {label: 'Operators', symbols: {
                'Â±': '\\pm, +-', 'âˆ“': '\\mp, -+', 'Ã—': '\\times', 'â‹…': '\\cdot', 'âˆ©': '\\cap', 'âˆª': '\\cup',
                'â‰¤': '\\le, <=', 'â‰¥': '\\ge, >=', 'â‰ ': '\\ne, /=', 'â‰¡': '\\equiv', 'âˆ': '\\propto',
                'â‰ª': '\\ll, <<', 'â‰«': '\\gg, >>', 'â‰…': '\\cong, ~=', 'âˆˆ': '\\in', 'âˆ‹': '\\ni',
                'âˆ¼': '\\sim', 'â‰ƒ': '\\simeq', 'â‰ˆ': '\\approx, ~~', 'â‰': '\\asymp',
                'â‰¶': '\\lessgtr', 'â‰·': '\\gtrless', 'â‰½': '\\succcurlyeq', 'â‰¼': '\\preccurlyeq',
                'â‰º': '\\prcue', 'â‰»': '\\succ', 'âŠ‚': '\\subset', 'âŠƒ': '\\supset',
                'âŠ†': '\\subseteq', 'âŠ‡': '\\supseteq', 'âŠ‘': '\\sqsubseteq', 'âŠ’': '\\sqsupseteq'
                }},
            {label: 'Large', symbols: {
                'âˆ‘': '\\sum', 'âˆ': '\\prod', 'âˆ«': '\\int', 'âˆ¬': '\\iint',
                'âˆ­': '\\iiint', 'â¨Œ': '\\iiiint', 'âˆ®': '\\oint', 'âˆ±': '\\cwint',
                'â¨‘': '\\ccwint', 'â‹‚': '\\bigcap', 'â‹ƒ': '\\bigcup', 'â¨ƒ': '\\bigudot',
                'â¨„': '\\biguplus', 'â¨€': '\\bigodot', 'â¨': '\\bigoplus', 'â¨‚': '\\bigotimes'
                }},
            {label: 'Build', symbols: {
                '/': '/: fraction bar operator',
                '_': '_: start subscript operator',
                '^': '^: start superscript operator',
                'â’œ': '\\abs: unambiguous absolute value operator',
                'â’': '\\choose: choose operator (for binomial coefficients)',
                'â’¸': '\\cases: cases operator',
                'â’©': '\\Vmatrix: norm operator',
                'â’¨': '\\pmatrix: parenthesized matrix operator',
                'â“¢': '\\bmatrix: square brackets matrix operator',
                'â“ˆ': '\\Bmatrix: curly braces matrix operator',
                'â’±': '\\vmatrix: determinant operator',
                'â–’': '\\naryand: n-aryand concatenation operator',
                'â– ': '\\matrix: matrix operator',
                'â–ˆ': '\\eqarray: equation array operator',
                'â–­': '\\rect: enclosure operator',
                'â–¡': '\\box: abstract box operator',
                'â–': '\\underline: underline operator',
                'Â¦': '\\atop: atop operator',
                'â”œ': '\\open: open delimiter',
                'â”¤': '\\close: close delimiter',
                'â”¬': '\\below: below operator',
                'â”´': '\\above: above operator',
                'ã€–': '\\begin: invisible opening bracket',
                'ã€—': '\\end: invisible closing bracket',
                'â„²': 'Size override operator',
                'â„': '\\sdiv: skewed fraction bar operator',
                'âˆ•': '\\ldif: linear fraction bar operator',
                'âŠ˜': '\\ndiv: small fraction bar operator',
                'â”‚': '\\vbar: vertical bar separator',
                'âˆ£': '\\mid',
                'âœ': '\\color: math text color operator',
                'â˜': '\\backcolor: math background color operator',
                'â«·': 'Start of comment (non-standard)',
                'â«¸': 'End of comment (non-standard)',
                'ï¿—': 'Typewriter/code font (non-standard)'
                }},
            {label: 'Invisible', symbols: {
                '2061': '\\funcapply: invisible function apply',
                '2062': '\\itimes: invisible times',
                '2063': '\\isep: invisible separator',
                '2064': '\\iplus: invisible plus',
                'â€‹': ['\\zwsp: zero-width space', 'width: 1em'],
                'â€Š': ['\\hairsp: 1/18em space (veryverythinmathspace)', 'width: 1.1em'],
                'â€Šâ€Š': ['2/18em space (verythinmathspace)', 'width: 1.2em'],
                'â€‰': ['\\thinsp: 3/18em space (thinmathspace)', 'width: 1.3em'],
                'âŸ': ['\\medsp: 4/18em space (mediummathspace)', 'width: 1.4em'],
                'â€…': ['\\thicksp: 5/18em space (thickmathspace)', 'width: 1.5em'],
                'â€„': ['\\vthicksp: 6/18em space (verythickmathspace)', 'width: 1.6em'],
                'â€„â€Š': ['7/18em space (veryverythickmathspace)', 'width: 1.7em'],
                'â€‚': ['\\ensp: 9/18em space', 'width: 1.9em'],
                'â€ƒ': ['\\emsp: 1em space', 'width: 2.8em'],
                'â€‡': ['\\numsp: Digit-width space', 'width: 1.67em'],
                'Â ': ['\\nbsp: space-width space (non-breaking space)', 'width: 1.67em']
                }},
            {label: 'Delimiters', symbols: {
                '(': '\\lparen', ')': '\\rparen', '[': '\\lbrack', ']': '\\rbrack',
                '{': '\\lbrace', '}': '\\rbrace', 'âŸ¨': '\\bra', 'âŸ©': '\\ket',
                'âŒˆ': '\\lceil', 'âŒ‰': '\\rceil', 'âŒŠ': '\\lfloor', 'âŒ‹': '\\rfloor',
                'âœ': '\\overparen', 'â': '\\underparen', 'â': '\\overbrace', 'âŸ': '\\underbrace',
                'â ': '\\overshell', 'â¡': '\\undershell', 'â´': '\\overbracket', 'âµ': '\\underbracket',
                'Â¯': '\\overline'
                }},
            {label: 'Arrows', symbols: {
                'â†': '\\leftarrow', 'â†’': '\\rightarrow', 'â†”': '\\leftrightarrow', 'â‡': '\\Leftarrow',
                'â‡’': '\\Rightarrow', 'â‡”': '\\Leftrightarrow', 'â†©': '\\hookleftarrow', 'â†ª': '\\hookrightarrow',
                'â†¼': '\\leftharpoonup', 'â‡€': '\\rightharpoonup', 'â†½': '\\leftharpoondown', 'â‡': '\\rightharpoondown',
                'âŸµ': '\\longleftarrow', 'âŸ¶': '\\longrightarrow', 'âŸ·': '\\longleftrightarrow',
                'âŸ¸': '\\Longleftarrow', 'âŸ¹': '\\Longrightarrow', 'âŸº': '\\Longleftrightarrow', 'â†‘': '\\uparrow',
                'â†“': '\\downarrow', 'â†¦': '\\mapsto', 'âŠ¨': '\\models', 'âŠ¢': '\\vdash', 'âŠ£': '\\dashv',
                }},
            {label: 'Logic', symbols: {
                'âˆƒ': '\\exists', 'âˆ€': '\\forall', 'Â¬': '\\lnot', 'âˆ§': '\\land', 'âˆ¨': '\\lor',
                'â‡’': '\\Rightarrow', 'â‡”': '\\Leftrightarrow', 'âŠ•': '\\oplus', 'âŠ¤': '\\top',
                'âŠ¥': '\\perp', 'âŠ¢': '\\vdash', 'â¨¯': '\\vectimes', 'â¨': '\\Join', 'âŸ•': '\\leftouterjoin',
                'âŸ–': '\\rightouterjoin', 'âŸ—': '\\fullouterjoin', 'â‹‰': '\\ltimes', 'â‹Š': '\\rtimes',
                'â–·': '\\triangleright', 'Ã·': '\\div', 'Ï€': '', 'Ïƒ': ''
                }},
            {label: 'Scripts', symbols: {
                'â°': '\\u2070', 'Â¹': '\\u00B9', 'Â²': '\\u00B2', 'Â³': '\\u00B3', 'â´': '\\u2074',
                'âµ': '\\u2075', 'â¶': '\\u2076', 'â·': '\\u2077', 'â¸': '\\u2078', 'â¹': '\\u2079',
                'â±': '\\u2071', 'â¿': '\\u207F', 'Ë£': '\\u02E3', 'âº': '\\u207A', 'â»': '\\u207B',
                'â¼': '\\u207C', 'â½': '\\u207D', 'â¾': '\\u207E', 'â‚€': '\\u2080', 'â‚': '\\u2081',
                'â‚‚': '\\u2082', 'â‚ƒ': '\\u2083', 'â‚„': '\\u2084', 'â‚…': '\\u2085', 'â‚†': '\\u2086',
                'â‚‡': '\\u2087', 'â‚ˆ': '\\u2088', 'â‚‰': '\\u2089', 'áµ¢': '\\u1D62', 'â±¼': '\\u2C7C',
                'â‚–': '\\u2096', 'â‚—': '\\u2097', 'â‚˜': '\\u2098', 'â‚™': '\\u2099', 'â‚Š': '\\u208a',
                'â‚‹': '\\u208B', 'â‚Œ': '\\u208C', 'â‚': '\\u208D', 'â‚': '\\U208E'
                }},
            {label: 'Enclosures', symbols: {
                'âˆš': '\\sqrt', 'âˆ›': '\\cbrt', 'âˆœ': '\\qdrt', 'â–­': '\\rect',
                'Ì…': '\\bar', 'â–': '\\underbar', 'â–¢': '\\rrect', 'â—‹': '\\circle',
                'âŸŒ': '\\longdiv', 'â¬­': '\\ellipse', 'âŸ¡': '\\phantom: phantom operator',
                'â¬„': '\\hphantom: horizontal phantom operator',
                'â‡³': '\\vphantom: vertical phantom operator',
                'â¬': '\\smash: smash operator',
                'â¬†': '\\asmash: ascender smash operator',
                'â¬‡': '\\dsmash: descender smash operator',
                'â¬Œ': '\\hsmash: horizontal smash operator'
                }},
            {label: 'Misc.', symbols: {
                'â……': '\\Dd: differential D', 'â…†': '\\dd: differential d', 'â…‡': '\\ee: exponential',
                'â…ˆ': '\\ii: imaginary unit', 'â…‰': '\\jj: imaginary unit', 'âˆ': '\\infty', 'â„˜': '\\wp',
                'â„': '\\hbar', 'â„œ': '\\Re', 'â„‘': '\Im', 'âˆ‡': '\\nabla', 'ğœ•': '\\partial', 'â€ ': '\\dag',
                'Â½': '\\u00BD', 'â…“': '\\u2153', 'â…”': '\\u2154', 'Â¼': '\\u00BC', 'Â¾': '\\u00BE'
                }},
            {label: 'Accents', symbols: {
                '0302': '\\hat', '030C': '\\check', '0303': '\\tilde', '0301': '\\acute',
                '0300': '\\grave', '0307': '\\dot', '0308': '\\ddot', '20DB': '\\dddot',
                '0305': '\\bar', '20D7': '\\vec', 'â€²': '\\prime, \''
                }},
            {label: 'Greek', symbols: {
                'ğ›¼': '\\alpha', 'ğ›½': '\\beta', 'Î“': '\\Gamma', 'ğ›¾': '\\gamma', 'Î”': '\\Delta',
                'ğ›¿': '\\delta', 'ğœ–': '\\epsilon', 'ğœ€': '\\varepsilon', 'ğœ': '\\zeta',
                'ğœ‚': '\\eta', 'Î˜': '\\Theta', 'ğœƒ': '\\theta', 'ğœ—': '\\vartheta', 'ğœ„': '\\iota',
                'ğœ…': '\\kappa', 'ğœ˜': '\\varkappa', 'Î›': '\\Lambda', 'ğœ†': '\\lambda', 'ğœ‡': '\\mu',
                'ğœˆ': '\\nu', 'Î': '\\Xi', 'ğœ‰': '\\xi', 'Î ': '\\Pi', 'ğœ‹': '\\pi', 'ğœ›': '\\varpi',
                'ğœŒ': '\\rho', 'ğœš': '\\varrho', 'Î£': '\\Sigma', 'ğœ': '\\sigma', 'ğœ': '\\varsigma',
                'ğœ': '\\tau', 'ğœ': '\\upsilon', 'Î¦': '\\Phi', 'ğœ™': '\\phi', 'ğœ‘': '\\varphi',
                'ğœ’': '\\chi', 'Î¨': '\\Psi', 'ğœ“': '\\psi', 'Î©': '\\Omega', 'ğœ”': '\\omega'
                }},
            {label: 'Examples', symbols: {
                'â…ˆÂ²=- 1': 'Imaginary unit',
                'ğ¸=ğ‘šğ‘^2': 'Einstein enery equation',
                'ğ‘Â²+ğ‘Â²=ğ‘Â²': 'Pythagorean theorem',
                'ğ‘“Ì‚(ğœ‰)=âˆ«_-âˆ^âˆ ğ‘“(ğ‘¥)â…‡^-2ğœ‹â…ˆğ‘¥ğœ‰ â…†ğ‘¥': 'Fourier transform',
                '(ğ‘+ğ‘)^ğ‘›=âˆ‘_(ğ‘˜=0)^ğ‘› ğ‘›â’ğ‘˜ ğ‘^ğ‘˜ ğ‘^(ğ‘›âˆ’ğ‘˜)': 'Binomial expansion',
                '_ğ‘› C_ğ‘˜ = ğ‘›â’ğ‘˜ = ğ‘›!/(ğ‘˜!(ğ‘›-ğ‘˜)!)': 'Binomial coefficient',
                'âˆ_(ğ‘˜=0)^ğ‘› ğ‘›â’ğ‘˜ = ğ»Â²(ğ‘›)/(ğ‘›!)^(ğ‘›+1) = (âˆ_(ğ‘˜=0)^ğ‘› ğ‘˜^ğ‘˜)/(ğ‘›!)^(ğ‘›+1)': 'Product of binomial coefficients',
                'sinâ¡ğœƒ = Â½ğ‘’^â…ˆğœƒ + "c.c."': 'Definition of sine',
                'ğ‘Š_ğ›¿â‚ğœŒâ‚ğœâ‚‚^3ğ›½=ğ‘ˆ_ğ›¿â‚ğœŒâ‚^3ğ›½+1/8ğœ‹^2â¢âˆ«_ğ›¼â‚^ğ›¼â‚‚ â…†ğ›¼â€²â‚‚[(ğ‘ˆ_ğ›¿â‚ğœŒâ‚^2ğ›½-ğ›¼â€²â‚‚ğ‘ˆ_ğ›¿â‚ğœŒâ‚^1ğ›½)/ğ‘ˆ_ğ›¿â‚ğœŒâ‚^0ğ›½]': '',
                '1/2ğœ‹ âˆ«_0^2ğœ‹ â…†ğœƒ/(ğ‘+ğ‘ sinâ¡ğœƒ)=1/âˆš(ğ‘^2âˆ’ğ‘^2)': 'Mode-locking equation',
                'â(ğ‘¥_1+â‹¯+ğ‘¥_ğ‘˜)^(ğ‘˜ " times")': 'Polynomial sum',
                '(ğ‘ + ğ‘)â”´â†’': 'Over-arrow example',
                '(â– (ğ‘&ğ‘@ğ‘&ğ‘‘))': 'Simple matrix',
                'â–ˆ(10&ğ‘¥+&3&ğ‘¦=2@3&ğ‘¥+&13&ğ‘¦=4)': 'Equation array',
                'ğ‘ /~ ğ‘': 'Sample not relation',
                'w^h^e^e^e^e': 'Nested superscripts',
                'ğ›¼â‚‚Â³/(ğ›½â‚‚Â³ + ğ›¾â‚‚Â³)': 'Unicode subsup factors',
                'âˆš(ğ‘›&ğ‘ + ğ‘)': 'Simple square root',
                'sin^2 ğœƒ+cos^2 ğœƒ=1': 'Trigonometric identity',
                'ğ‘¥=(âˆ’ğ‘Â±âˆš(ğ‘^2âˆ’4ğ‘ğ‘))/2ğ‘': 'Solution to quadratic equation',
                'âˆ«_-âˆ^âˆ e^-ğ‘¥^2 â…†ğ‘¥=âˆšğœ‹': 'Integral over Gaussian',
                '|ğ‘¥|=â’¸("if "ğ‘¥>=0,&ğ‘¥@"if "ğ‘¥<0,&-ğ‘¥)': 'Absolute value',
                'lim_(ğ‘›â†’âˆ) (1+1/ğ‘›)^ğ‘›=ğ‘’': 'Definition of ğ‘’',
                'â…‡^ğ‘¥=1+ğ‘¥/1!+ğ‘¥^2/2!+ğ‘¥^3/3!+â‹¯,â€ƒ-âˆ < ğ‘¥ < âˆ': 'Maclaurin series for ğ‘’Ë£',
                'ğ›â¨¯ğ„=âˆ’ğœ•ğ/ğœ•ğ‘¡': 'Maxwell equation',
                'iâ„ ğœ•/ğœ•ğ‘¡ ğœ“(ğ‘¥,ğ‘¡)=[âˆ’â„^2/2ğ‘š ğœ•^2/ğœ•ğ‘¥^2+ğ‘‰(ğ‘¥,ğ‘¡)]ğœ“(ğ‘¥,ğ‘¡)': 'SchrÃ¶dinger equation',
                }},
        ];
    </script>
    <table class="playground">
        <tr>
            <td>
                <form autocomplete="off" action="/action_page.php">
                    <div class="autocomplete" style="width:100%;">
                        <textarea id="input" placeholder="Enter UnicodeMath here..." autocomplete="off" spellcheck="false"></textarea>
                    </div>
                </form>
                <div id="codepoints"></div>
            </td>
            <td>
                <div id="output"></div>
                <div class="tabs">
                    <button class="tab" id="pegjs_ast">PEG.js AST <span id="measurements_parse"></span></button>
                    <button class="tab" id="preprocess_ast"><abbr title="Preprocessed">PP</abbr> AST <span id="measurements_preprocess"></span></button>
                    <button class="tab" id="mathml_ast">MathML AST <span id="measurements_transform"></span></button>
                    <button class="tab active" id="source">MathML source <span id="measurements_pretty"></span></button>
                </div>
                <div class="tabcontent">
                    <pre id="output_pegjs_ast"></pre>
                    <pre id="output_preprocess_ast"></pre>
                    <pre id="output_mathml_ast"></pre>
                    <pre id="output_source"></pre>
                </div>
            </td>
        </tr>
    </table>

    <p class="history">
        <span class="category">History</span>
        <span id="history">
            <button class="unicode disabled">empty</button>
        </span>
    <p class="mathfonts">
        <span class="category" data-explanation="If you want to convert multiple characters at a time, enter them into the UnicodeMath input field, select them and click one of these buttons. Any characters that cannot be converted will remain unchanged.">Math styles</span>
        <input type="text" id="mathchar" placeholder="A" maxlength="2"><button id="mup" class="submit mathfont" data-tooltip="Normal upright">ABC</button><button id="mbf" class="submit mathfont" data-tooltip="\mbfâ€¦ Serif & Bold">ğ€ğğ‚</button><button id="mit" class="mathfont" data-tooltip="\mitâ€¦ Serif & Italic">ğ´ğµğ¶</button><button id="mbfit" class="mathfont" data-tooltip="\mbfitâ€¦ Serif & Bold & Italic">ğ‘¨ğ‘©ğ‘ª</button><button id="msans" class="mathfont" data-tooltip="\msansâ€¦ Sans-serif">ğ– ğ–¡ğ–¢</button><button id="mbfsans" class="mathfont" data-tooltip="\mbfsansâ€¦ Sans-serif & Bold">ğ—”ğ—•ğ—–</button><button id="mbfitsans" class="mathfont" data-tooltip="\mbfitsansâ€¦ Sans-serif & Italic">ğ˜ˆğ˜‰ğ˜Š</button><button id="mitsans" class="mathfont" data-tooltip="\mitsansâ€¦ Sans-serif & Bold & Italic">ğ˜¼ğ˜½ğ˜¾</button><button id="mscr" class="mathfont" data-tooltip="\mscrâ€¦ Script">ğ’œâ„¬ğ’</button><button id="mbfscr" class="mathfont" data-tooltip="\mbfscrâ€¦ Script & Bold">ğ“ğ“‘ğ“’</button><button id="mfrak" class="mathfont" data-tooltip="\mfrakâ€¦ Fraktur">ğ”„ğ”…â„­</button><button id="mbffrak" class="mathfont" data-tooltip="\mbffrakâ€¦ Fraktur & Bold">ğ•¬ğ•­ğ•®</button><button id="mtt" class="mathfont" data-tooltip="\mttâ€¦ Monospace">ğ™°ğ™±ğ™²</button><button id="Bbb" class="mathfont" data-tooltip="\Bbbâ€¦ Double-struck (blackboard bold)">ğ”¸ğ”¹â„‚</button>
    </p>
    <br />
    <div class="categorytab">
        <button id="operators" class="categorytablinks" onclick="openCategory(event, 'Operators')"><span data-explanation='Common binary and relational operators'>Operators</span></button>
        <button class="categorytablinks" onclick="openCategory(event, 'Large')"><span data-explanation='ğ‘-ary (large) operators'>Large</span></button>
        <button class="categorytablinks" onclick="openCategory(event, 'Build')"><span data-explanation='UnicodeMath build-up operators: hover over buttons for more information'>Build</span></button>
        <button class="categorytablinks" onclick="openCategory(event, 'Invisible')"><span data-explanation='Function-apply, invisible times, spaces: hover over each button for more information'>Invisible</span></button>
        <button class="categorytablinks" onclick="openCategory(event, 'Delimiters')"><span data-explanation='Vertical and horizontal brackets'>Delimiters</span></button>
        <button class="categorytablinks" onclick="openCategory(event, 'Arrows')">Arrows</button>
        <button class="categorytablinks" onclick="openCategory(event, 'Logic')">Logic</button>
        <button class="categorytablinks" onclick="openCategory(event, 'Scripts')"><span data-explanation='Subscripts and superscripts (also use _ and ^)'>Scripts</span></button>
        <button class="categorytablinks" onclick="openCategory(event, 'Enclosures')"><span data-explanation='Square roots, enclosures, phantoms, smashes'>Enclosures</span></button>
        <button class="categorytablinks" onclick="openCategory(event, 'Misc.')">Misc.</button>
        <button class="categorytablinks" onclick="openCategory(event, 'Accents')"><span data-explanation='Can use any accent from Unicode "Combining Diacritical Marks" and "Combining Diacritical Marks for Symbols"'>Accents</span></button>
        <button class="categorytablinks" onclick="openCategory(event, 'Greek')">Greek</button>
        <button class="categorytablinks" onclick="openCategory(event, 'Examples')">Examples</button>
    </div>

    <script>
        function openCategory(evt, categoryName) {
            var i, categorytabcontent, categorytablinks;
            categorytabcontent = document.getElementsByClassName("categorytabcontent");
            for (i = 0; i < categorytabcontent.length; i++) {
                categorytabcontent[i].style.display = "none";
            }
            categorytablinks = document.getElementsByClassName("categorytablinks");
            for (i = 0; i < categorytablinks.length; i++) {
                categorytablinks[i].className = categorytablinks[i].className.replace(" active", "");
            }
            document.getElementById(categoryName).style.display = "block";
            evt.currentTarget.className += " active";
        }
        var symbolTooltips = {};
        buttons.forEach(function (entry) {
            document.write(`<div id=${entry['label']} class="categorytabcontent"><p>`);
            let syms = {};
            Object.keys(entry['symbols']).forEach(function (c) {
                if (/^[0-9A-F]+$/i.test(c)) {

                    // hex code
                    syms[String.fromCodePoint("0x" + c)] = entry['symbols'][c];
                } else {

                    // normal character
                    syms[c] = entry['symbols'][c];
                }
            });

            Object.keys(syms).forEach(function (c) {

                // extract styles, if available
                var tooltip = syms[c];
                var css = '';
                if (syms[c] instanceof Array) {
                    var tooltip = syms[c][0];
                    var css = 'style="' + syms[c][1] + '"';
                    syms[c] = syms[c][0];
                }
                document.write(`<button class="unicode" ${css} data-tooltip="${tooltip}">${c}</button>`);
            });
            document.write(`</div>`)
            symbolTooltips = Object.assign({}, symbolTooltips, syms);
        });
        var ops = document.getElementById('operators');
        ops.click();
    </script>

    <!-- config -->
    <script>
        var defaultConfig = {
            splitInput: true,
            resolveControlWords: true,
            displaystyle: true,
            debug: true,
            caching: true,
            tracing: false,
            forceMathJax: false,
            outputLaTeX: false,
        };
        var configDescriptions = {
            splitInput: "Split input into lines and process each line separately (as opposed to processing the entire input as a single expression)",
            resolveControlWords: "Resolve control words such as <code>\\alpha</code> or <code>\\u1f52d</code> to the respective character before parsing",
            displaystyle: "Present the results in <code>displaystyle</code> mode (as opposed to <code>textstyle</code> mode)",
            debug: "Enable <em>debug</em> mode, with additional <code>console.log</code> output but slightly slower",
            caching: "Generate the parser with <em>caching</em> enabled (â‰³20x faster than sans caching)",
            tracing: "Enable <em>tracing</em> and show parse trace (of lowermost expression) in a tab (âš  slow if caching disabled)",
            forceMathJax: "Force-enable MathJax in browsers that support MathML natively",
            outputLaTeX: "Enable <strong>EXPERIMENTAL</strong> LaTeX output (& force MathJax)",
        };

        var ummlConfig = JSON.parse(JSON.stringify(defaultConfig));  // clone it

        function renderConfigPane() {
            var e = document.getElementById("config");
            var i = 0;
            e.innerHTML += Object.keys(ummlConfig).map(k => {
                i++;
                return `<div><input type="checkbox" id="c${i}" name="${k}" ${ummlConfig[k]? "checked" : ""}><label for="c${i}">${configDescriptions[k]}</label></div>`;
            }).join("");
            e.innerHTML += `<div class="buttons"><button onclick="applyConfigAndReload()">Apply & Reload Page</button><a onclick="resetConfigAndReload()">Reset</a></div>`;
        }
        function loadConfigIntoPane() {
            var tempConfig = defaultConfig;
            if (window.localStorage.getItem("config")) {
                tempConfig = JSON.parse(localStorage.getItem('config'));
            }
            Array.from(document.querySelectorAll("#config input[type='checkbox']")).map(e => {
                e.checked = tempConfig[e.name];
                ummlConfig[e.name] = tempConfig[e.name];
            });
        }
        function applyConfigAndReload() {
            var tempConfig = {};
            Array.from(document.querySelectorAll("#config input[type='checkbox']")).map(e => {
                tempConfig[e.name] = e.checked;
            });
            localStorage.setItem('config', JSON.stringify(tempConfig));
            window.location.reload(false);
        }
        function resetConfigAndReload() {
            localStorage.setItem('config', JSON.stringify(defaultConfig));
            window.location.reload(false);
        }
        renderConfigPane();
        loadConfigIntoPane();
    </script>

    <!-- unicodemathml stuff -->
    <script src="../lib/peg-0.10.0.min.js"></script>
    <script>
        var ummlParser = undefined;

        // load grammar from file, then generate parser
        var client = new XMLHttpRequest();
        client.open('GET', '../src/unicodemathml-parser.pegjs' + "?" + Math.random());
        client.onreadystatechange = function() {
            if (client.readyState === 4) {
                try {
                    ummlParser = peg.generate(client.responseText, {cache: ummlConfig.caching, trace: ummlConfig.tracing});
                } catch (error) {
                    document.write("Error during parser generation: " + error + "<br>");
                    console.log(error);
                }
            }
        }
        client.send();
    </script>
    <script>loadUncachedScript("../src/unicodemathml.js")</script>

    <!-- playground stuff -->
    <script src="assets/lib/jquery.min.js"></script>
    <script src="assets/charinfo.js">/* no need to avoid caching here â€“ it's massive and it's not gonna change */</script>
    <script>loadUncachedScript("assets/dictation.js")</script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="assets/lib/mathjax/3/mml-svg.js"></script>
    <script>loadUncachedScript("assets/playground.js")</script>
</body>
